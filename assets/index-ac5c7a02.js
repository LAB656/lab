(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function $f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Mc={exports:{}},Ai={},Bc={exports:{}},D={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cs=Symbol.for("react.element"),Uf=Symbol.for("react.portal"),Df=Symbol.for("react.fragment"),zf=Symbol.for("react.strict_mode"),Mf=Symbol.for("react.profiler"),Bf=Symbol.for("react.provider"),Ff=Symbol.for("react.context"),qf=Symbol.for("react.forward_ref"),Vf=Symbol.for("react.suspense"),Wf=Symbol.for("react.memo"),Hf=Symbol.for("react.lazy"),Kl=Symbol.iterator;function Kf(e){return e===null||typeof e!="object"?null:(e=Kl&&e[Kl]||e["@@iterator"],typeof e=="function"?e:null)}var Fc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qc=Object.assign,Vc={};function or(e,t,n){this.props=e,this.context=t,this.refs=Vc,this.updater=n||Fc}or.prototype.isReactComponent={};or.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};or.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wc(){}Wc.prototype=or.prototype;function Wa(e,t,n){this.props=e,this.context=t,this.refs=Vc,this.updater=n||Fc}var Ha=Wa.prototype=new Wc;Ha.constructor=Wa;qc(Ha,or.prototype);Ha.isPureReactComponent=!0;var Gl=Array.isArray,Hc=Object.prototype.hasOwnProperty,Ka={current:null},Kc={key:!0,ref:!0,__self:!0,__source:!0};function Gc(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Hc.call(t,r)&&!Kc.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:cs,type:e,key:i,ref:o,props:s,_owner:Ka.current}}function Gf(e,t){return{$$typeof:cs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ga(e){return typeof e=="object"&&e!==null&&e.$$typeof===cs}function Jf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Jl=/\/+/g;function no(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Jf(""+e.key):t.toString(36)}function Ws(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case cs:case Uf:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+no(o,0):r,Gl(s)?(n="",e!=null&&(n=e.replace(Jl,"$&/")+"/"),Ws(s,t,n,"",function(c){return c})):s!=null&&(Ga(s)&&(s=Gf(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Jl,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Gl(e))for(var a=0;a<e.length;a++){i=e[a];var u=r+no(i,a);o+=Ws(i,t,n,u,s)}else if(u=Kf(e),typeof u=="function")for(e=u.call(e),a=0;!(i=e.next()).done;)i=i.value,u=r+no(i,a++),o+=Ws(i,t,n,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function xs(e,t,n){if(e==null)return e;var r=[],s=0;return Ws(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Qf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var je={current:null},Hs={transition:null},Yf={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:Hs,ReactCurrentOwner:Ka};function Jc(){throw Error("act(...) is not supported in production builds of React.")}D.Children={map:xs,forEach:function(e,t,n){xs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return xs(e,function(){t++}),t},toArray:function(e){return xs(e,function(t){return t})||[]},only:function(e){if(!Ga(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};D.Component=or;D.Fragment=Df;D.Profiler=Mf;D.PureComponent=Wa;D.StrictMode=zf;D.Suspense=Vf;D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yf;D.act=Jc;D.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=qc({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ka.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Hc.call(t,u)&&!Kc.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:cs,type:e.type,key:s,ref:i,props:r,_owner:o}};D.createContext=function(e){return e={$$typeof:Ff,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Bf,_context:e},e.Consumer=e};D.createElement=Gc;D.createFactory=function(e){var t=Gc.bind(null,e);return t.type=e,t};D.createRef=function(){return{current:null}};D.forwardRef=function(e){return{$$typeof:qf,render:e}};D.isValidElement=Ga;D.lazy=function(e){return{$$typeof:Hf,_payload:{_status:-1,_result:e},_init:Qf}};D.memo=function(e,t){return{$$typeof:Wf,type:e,compare:t===void 0?null:t}};D.startTransition=function(e){var t=Hs.transition;Hs.transition={};try{e()}finally{Hs.transition=t}};D.unstable_act=Jc;D.useCallback=function(e,t){return je.current.useCallback(e,t)};D.useContext=function(e){return je.current.useContext(e)};D.useDebugValue=function(){};D.useDeferredValue=function(e){return je.current.useDeferredValue(e)};D.useEffect=function(e,t){return je.current.useEffect(e,t)};D.useId=function(){return je.current.useId()};D.useImperativeHandle=function(e,t,n){return je.current.useImperativeHandle(e,t,n)};D.useInsertionEffect=function(e,t){return je.current.useInsertionEffect(e,t)};D.useLayoutEffect=function(e,t){return je.current.useLayoutEffect(e,t)};D.useMemo=function(e,t){return je.current.useMemo(e,t)};D.useReducer=function(e,t,n){return je.current.useReducer(e,t,n)};D.useRef=function(e){return je.current.useRef(e)};D.useState=function(e){return je.current.useState(e)};D.useSyncExternalStore=function(e,t,n){return je.current.useSyncExternalStore(e,t,n)};D.useTransition=function(){return je.current.useTransition()};D.version="18.3.1";Bc.exports=D;var x=Bc.exports;const Xf=$f(x);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf=x,ep=Symbol.for("react.element"),tp=Symbol.for("react.fragment"),np=Object.prototype.hasOwnProperty,rp=Zf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sp={key:!0,ref:!0,__self:!0,__source:!0};function Qc(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)np.call(t,r)&&!sp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:ep,type:e,key:i,ref:o,props:s,_owner:rp.current}}Ai.Fragment=tp;Ai.jsx=Qc;Ai.jsxs=Qc;Mc.exports=Ai;var l=Mc.exports,zo={},Yc={exports:{}},Me={},Xc={exports:{}},Zc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,T){var R=N.length;N.push(T);e:for(;0<R;){var I=R-1>>>1,M=N[I];if(0<s(M,T))N[I]=T,N[R]=M,R=I;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var T=N[0],R=N.pop();if(R!==T){N[0]=R;e:for(var I=0,M=N.length,Ne=M>>>1;I<Ne;){var Ye=2*(I+1)-1,_n=N[Ye],gt=Ye+1,ws=N[gt];if(0>s(_n,R))gt<M&&0>s(ws,_n)?(N[I]=ws,N[gt]=R,I=gt):(N[I]=_n,N[Ye]=R,I=Ye);else if(gt<M&&0>s(ws,R))N[I]=ws,N[gt]=R,I=gt;else break e}}return T}function s(N,T){var R=N.sortIndex-T.sortIndex;return R!==0?R:N.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,h=null,f=3,v=!1,y=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(N){for(var T=n(c);T!==null;){if(T.callback===null)r(c);else if(T.startTime<=N)r(c),T.sortIndex=T.expirationTime,t(u,T);else break;T=n(c)}}function _(N){if(w=!1,g(N),!y)if(n(u)!==null)y=!0,B(k);else{var T=n(c);T!==null&&J(_,T.startTime-N)}}function k(N,T){y=!1,w&&(w=!1,m(C),C=-1),v=!0;var R=f;try{for(g(T),h=n(u);h!==null&&(!(h.expirationTime>T)||N&&!fe());){var I=h.callback;if(typeof I=="function"){h.callback=null,f=h.priorityLevel;var M=I(h.expirationTime<=T);T=e.unstable_now(),typeof M=="function"?h.callback=M:h===n(u)&&r(u),g(T)}else r(u);h=n(u)}if(h!==null)var Ne=!0;else{var Ye=n(c);Ye!==null&&J(_,Ye.startTime-T),Ne=!1}return Ne}finally{h=null,f=R,v=!1}}var S=!1,E=null,C=-1,U=5,A=-1;function fe(){return!(e.unstable_now()-A<U)}function Je(){if(E!==null){var N=e.unstable_now();A=N;var T=!0;try{T=E(!0,N)}finally{T?Qe():(S=!1,E=null)}}else S=!1}var Qe;if(typeof p=="function")Qe=function(){p(Je)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,V=F.port2;F.port1.onmessage=Je,Qe=function(){V.postMessage(null)}}else Qe=function(){b(Je,0)};function B(N){E=N,S||(S=!0,Qe())}function J(N,T){C=b(function(){N(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,B(k))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(N){switch(f){case 1:case 2:case 3:var T=3;break;default:T=f}var R=f;f=T;try{return N()}finally{f=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,T){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var R=f;f=N;try{return T()}finally{f=R}},e.unstable_scheduleCallback=function(N,T,R){var I=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?I+R:I):R=I,N){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=R+M,N={id:d++,callback:T,priorityLevel:N,startTime:R,expirationTime:M,sortIndex:-1},R>I?(N.sortIndex=R,t(c,N),n(u)===null&&N===n(c)&&(w?(m(C),C=-1):w=!0,J(_,R-I))):(N.sortIndex=M,t(u,N),y||v||(y=!0,B(k))),N},e.unstable_shouldYield=fe,e.unstable_wrapCallback=function(N){var T=f;return function(){var R=f;f=T;try{return N.apply(this,arguments)}finally{f=R}}}})(Zc);Xc.exports=Zc;var ip=Xc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op=x,ze=ip;function j(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ed=new Set,zr={};function xn(e,t){Zn(e,t),Zn(e+"Capture",t)}function Zn(e,t){for(zr[e]=t,e=0;e<t.length;e++)ed.add(t[e])}var jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mo=Object.prototype.hasOwnProperty,ap=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ql={},Yl={};function lp(e){return Mo.call(Yl,e)?!0:Mo.call(Ql,e)?!1:ap.test(e)?Yl[e]=!0:(Ql[e]=!0,!1)}function up(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cp(e,t,n,r){if(t===null||typeof t>"u"||up(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ee(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ye[e]=new Ee(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ye[t]=new Ee(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ye[e]=new Ee(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ye[e]=new Ee(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ye[e]=new Ee(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ye[e]=new Ee(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ye[e]=new Ee(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ye[e]=new Ee(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ye[e]=new Ee(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ja=/[\-:]([a-z])/g;function Qa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ja,Qa);ye[t]=new Ee(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ja,Qa);ye[t]=new Ee(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ja,Qa);ye[t]=new Ee(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ye[e]=new Ee(e,1,!1,e.toLowerCase(),null,!1,!1)});ye.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ye[e]=new Ee(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ya(e,t,n,r){var s=ye.hasOwnProperty(t)?ye[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cp(t,n,s,r)&&(n=null),r||s===null?lp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Rt=op.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bs=Symbol.for("react.element"),An=Symbol.for("react.portal"),In=Symbol.for("react.fragment"),Xa=Symbol.for("react.strict_mode"),Bo=Symbol.for("react.profiler"),td=Symbol.for("react.provider"),nd=Symbol.for("react.context"),Za=Symbol.for("react.forward_ref"),Fo=Symbol.for("react.suspense"),qo=Symbol.for("react.suspense_list"),el=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),rd=Symbol.for("react.offscreen"),Xl=Symbol.iterator;function hr(e){return e===null||typeof e!="object"?null:(e=Xl&&e[Xl]||e["@@iterator"],typeof e=="function"?e:null)}var te=Object.assign,ro;function _r(e){if(ro===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ro=t&&t[1]||""}return`
`+ro+e}var so=!1;function io(e,t){if(!e||so)return"";so=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{so=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_r(e):""}function dp(e){switch(e.tag){case 5:return _r(e.type);case 16:return _r("Lazy");case 13:return _r("Suspense");case 19:return _r("SuspenseList");case 0:case 2:case 15:return e=io(e.type,!1),e;case 11:return e=io(e.type.render,!1),e;case 1:return e=io(e.type,!0),e;default:return""}}function Vo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case In:return"Fragment";case An:return"Portal";case Bo:return"Profiler";case Xa:return"StrictMode";case Fo:return"Suspense";case qo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nd:return(e.displayName||"Context")+".Consumer";case td:return(e._context.displayName||"Context")+".Provider";case Za:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case el:return t=e.displayName||null,t!==null?t:Vo(e.type)||"Memo";case At:t=e._payload,e=e._init;try{return Vo(e(t))}catch{}}return null}function hp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vo(t);case 8:return t===Xa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fp(e){var t=sd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _s(e){e._valueTracker||(e._valueTracker=fp(e))}function id(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=sd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wo(e,t){var n=t.checked;return te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Zl(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Jt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function od(e,t){t=t.checked,t!=null&&Ya(e,"checked",t,!1)}function Ho(e,t){od(e,t);var n=Jt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ko(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ko(e,t.type,Jt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function eu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ko(e,t,n){(t!=="number"||ii(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var kr=Array.isArray;function Hn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Jt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Go(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(j(91));return te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(j(92));if(kr(n)){if(1<n.length)throw Error(j(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Jt(n)}}function ad(e,t){var n=Jt(t.value),r=Jt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function nu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ld(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ld(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ks,ud=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ks=ks||document.createElement("div"),ks.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ks.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Nr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pp=["Webkit","ms","Moz","O"];Object.keys(Nr).forEach(function(e){pp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nr[t]=Nr[e]})});function cd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Nr.hasOwnProperty(e)&&Nr[e]?(""+t).trim():t+"px"}function dd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=cd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var mp=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qo(e,t){if(t){if(mp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(j(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(j(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(j(61))}if(t.style!=null&&typeof t.style!="object")throw Error(j(62))}}function Yo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xo=null;function tl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zo=null,Kn=null,Gn=null;function ru(e){if(e=fs(e)){if(typeof Zo!="function")throw Error(j(280));var t=e.stateNode;t&&(t=Di(t),Zo(e.stateNode,e.type,t))}}function hd(e){Kn?Gn?Gn.push(e):Gn=[e]:Kn=e}function fd(){if(Kn){var e=Kn,t=Gn;if(Gn=Kn=null,ru(e),t)for(e=0;e<t.length;e++)ru(t[e])}}function pd(e,t){return e(t)}function md(){}var oo=!1;function gd(e,t,n){if(oo)return e(t,n);oo=!0;try{return pd(e,t,n)}finally{oo=!1,(Kn!==null||Gn!==null)&&(md(),fd())}}function Br(e,t){var n=e.stateNode;if(n===null)return null;var r=Di(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(j(231,t,typeof n));return n}var ea=!1;if(jt)try{var fr={};Object.defineProperty(fr,"passive",{get:function(){ea=!0}}),window.addEventListener("test",fr,fr),window.removeEventListener("test",fr,fr)}catch{ea=!1}function gp(e,t,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Cr=!1,oi=null,ai=!1,ta=null,vp={onError:function(e){Cr=!0,oi=e}};function yp(e,t,n,r,s,i,o,a,u){Cr=!1,oi=null,gp.apply(vp,arguments)}function wp(e,t,n,r,s,i,o,a,u){if(yp.apply(this,arguments),Cr){if(Cr){var c=oi;Cr=!1,oi=null}else throw Error(j(198));ai||(ai=!0,ta=c)}}function bn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function vd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function su(e){if(bn(e)!==e)throw Error(j(188))}function xp(e){var t=e.alternate;if(!t){if(t=bn(e),t===null)throw Error(j(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return su(s),e;if(i===r)return su(s),t;i=i.sibling}throw Error(j(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?e:t}function yd(e){return e=xp(e),e!==null?wd(e):null}function wd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wd(e);if(t!==null)return t;e=e.sibling}return null}var xd=ze.unstable_scheduleCallback,iu=ze.unstable_cancelCallback,bp=ze.unstable_shouldYield,_p=ze.unstable_requestPaint,se=ze.unstable_now,kp=ze.unstable_getCurrentPriorityLevel,nl=ze.unstable_ImmediatePriority,bd=ze.unstable_UserBlockingPriority,li=ze.unstable_NormalPriority,Sp=ze.unstable_LowPriority,_d=ze.unstable_IdlePriority,Ii=null,dt=null;function jp(e){if(dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(Ii,e,void 0,(e.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:Cp,Ep=Math.log,Np=Math.LN2;function Cp(e){return e>>>=0,e===0?32:31-(Ep(e)/Np|0)|0}var Ss=64,js=4194304;function Sr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ui(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Sr(a):(i&=o,i!==0&&(r=Sr(i)))}else o=n&~s,o!==0?r=Sr(o):i!==0&&(r=Sr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-it(t),s=1<<n,r|=e[n],t&=~s;return r}function Tp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-it(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=Tp(a,t)):u<=t&&(e.expiredLanes|=a),i&=~a}}function na(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kd(){var e=Ss;return Ss<<=1,!(Ss&4194240)&&(Ss=64),e}function ao(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ds(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-it(t),e[t]=n}function Pp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-it(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function rl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var q=0;function Sd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jd,sl,Ed,Nd,Cd,ra=!1,Es=[],Bt=null,Ft=null,qt=null,Fr=new Map,qr=new Map,$t=[],Op="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ou(e,t){switch(e){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":Fr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qr.delete(t.pointerId)}}function pr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=fs(t),t!==null&&sl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ap(e,t,n,r,s){switch(t){case"focusin":return Bt=pr(Bt,e,t,n,r,s),!0;case"dragenter":return Ft=pr(Ft,e,t,n,r,s),!0;case"mouseover":return qt=pr(qt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Fr.set(i,pr(Fr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,qr.set(i,pr(qr.get(i)||null,e,t,n,r,s)),!0}return!1}function Td(e){var t=un(e.target);if(t!==null){var n=bn(t);if(n!==null){if(t=n.tag,t===13){if(t=vd(n),t!==null){e.blockedOn=t,Cd(e.priority,function(){Ed(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ks(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=sa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Xo=r,n.target.dispatchEvent(r),Xo=null}else return t=fs(n),t!==null&&sl(t),e.blockedOn=n,!1;t.shift()}return!0}function au(e,t,n){Ks(e)&&n.delete(t)}function Ip(){ra=!1,Bt!==null&&Ks(Bt)&&(Bt=null),Ft!==null&&Ks(Ft)&&(Ft=null),qt!==null&&Ks(qt)&&(qt=null),Fr.forEach(au),qr.forEach(au)}function mr(e,t){e.blockedOn===t&&(e.blockedOn=null,ra||(ra=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,Ip)))}function Vr(e){function t(s){return mr(s,e)}if(0<Es.length){mr(Es[0],e);for(var n=1;n<Es.length;n++){var r=Es[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Bt!==null&&mr(Bt,e),Ft!==null&&mr(Ft,e),qt!==null&&mr(qt,e),Fr.forEach(t),qr.forEach(t),n=0;n<$t.length;n++)r=$t[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<$t.length&&(n=$t[0],n.blockedOn===null);)Td(n),n.blockedOn===null&&$t.shift()}var Jn=Rt.ReactCurrentBatchConfig,ci=!0;function Lp(e,t,n,r){var s=q,i=Jn.transition;Jn.transition=null;try{q=1,il(e,t,n,r)}finally{q=s,Jn.transition=i}}function $p(e,t,n,r){var s=q,i=Jn.transition;Jn.transition=null;try{q=4,il(e,t,n,r)}finally{q=s,Jn.transition=i}}function il(e,t,n,r){if(ci){var s=sa(e,t,n,r);if(s===null)yo(e,t,r,di,n),ou(e,r);else if(Ap(s,e,t,n,r))r.stopPropagation();else if(ou(e,r),t&4&&-1<Op.indexOf(e)){for(;s!==null;){var i=fs(s);if(i!==null&&jd(i),i=sa(e,t,n,r),i===null&&yo(e,t,r,di,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else yo(e,t,r,null,n)}}var di=null;function sa(e,t,n,r){if(di=null,e=tl(r),e=un(e),e!==null)if(t=bn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=vd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return di=e,null}function Rd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kp()){case nl:return 1;case bd:return 4;case li:case Sp:return 16;case _d:return 536870912;default:return 16}default:return 16}}var zt=null,ol=null,Gs=null;function Pd(){if(Gs)return Gs;var e,t=ol,n=t.length,r,s="value"in zt?zt.value:zt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Gs=s.slice(e,1<r?1-r:void 0)}function Js(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ns(){return!0}function lu(){return!1}function Be(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ns:lu,this.isPropagationStopped=lu,this}return te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),t}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},al=Be(ar),hs=te({},ar,{view:0,detail:0}),Up=Be(hs),lo,uo,gr,Li=te({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ll,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gr&&(gr&&e.type==="mousemove"?(lo=e.screenX-gr.screenX,uo=e.screenY-gr.screenY):uo=lo=0,gr=e),lo)},movementY:function(e){return"movementY"in e?e.movementY:uo}}),uu=Be(Li),Dp=te({},Li,{dataTransfer:0}),zp=Be(Dp),Mp=te({},hs,{relatedTarget:0}),co=Be(Mp),Bp=te({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Fp=Be(Bp),qp=te({},ar,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vp=Be(qp),Wp=te({},ar,{data:0}),cu=Be(Wp),Hp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gp[e])?!!t[e]:!1}function ll(){return Jp}var Qp=te({},hs,{key:function(e){if(e.key){var t=Hp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ll,charCode:function(e){return e.type==="keypress"?Js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yp=Be(Qp),Xp=te({},Li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),du=Be(Xp),Zp=te({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ll}),em=Be(Zp),tm=te({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),nm=Be(tm),rm=te({},Li,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sm=Be(rm),im=[9,13,27,32],ul=jt&&"CompositionEvent"in window,Tr=null;jt&&"documentMode"in document&&(Tr=document.documentMode);var om=jt&&"TextEvent"in window&&!Tr,Od=jt&&(!ul||Tr&&8<Tr&&11>=Tr),hu=String.fromCharCode(32),fu=!1;function Ad(e,t){switch(e){case"keyup":return im.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Id(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ln=!1;function am(e,t){switch(e){case"compositionend":return Id(t);case"keypress":return t.which!==32?null:(fu=!0,hu);case"textInput":return e=t.data,e===hu&&fu?null:e;default:return null}}function lm(e,t){if(Ln)return e==="compositionend"||!ul&&Ad(e,t)?(e=Pd(),Gs=ol=zt=null,Ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Od&&t.locale!=="ko"?null:t.data;default:return null}}var um={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!um[e.type]:t==="textarea"}function Ld(e,t,n,r){hd(r),t=hi(t,"onChange"),0<t.length&&(n=new al("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Rr=null,Wr=null;function cm(e){Hd(e,0)}function $i(e){var t=Dn(e);if(id(t))return e}function dm(e,t){if(e==="change")return t}var $d=!1;if(jt){var ho;if(jt){var fo="oninput"in document;if(!fo){var mu=document.createElement("div");mu.setAttribute("oninput","return;"),fo=typeof mu.oninput=="function"}ho=fo}else ho=!1;$d=ho&&(!document.documentMode||9<document.documentMode)}function gu(){Rr&&(Rr.detachEvent("onpropertychange",Ud),Wr=Rr=null)}function Ud(e){if(e.propertyName==="value"&&$i(Wr)){var t=[];Ld(t,Wr,e,tl(e)),gd(cm,t)}}function hm(e,t,n){e==="focusin"?(gu(),Rr=t,Wr=n,Rr.attachEvent("onpropertychange",Ud)):e==="focusout"&&gu()}function fm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $i(Wr)}function pm(e,t){if(e==="click")return $i(t)}function mm(e,t){if(e==="input"||e==="change")return $i(t)}function gm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var at=typeof Object.is=="function"?Object.is:gm;function Hr(e,t){if(at(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Mo.call(t,s)||!at(e[s],t[s]))return!1}return!0}function vu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yu(e,t){var n=vu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vu(n)}}function Dd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zd(){for(var e=window,t=ii();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ii(e.document)}return t}function cl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vm(e){var t=zd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Dd(n.ownerDocument.documentElement,n)){if(r!==null&&cl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=yu(n,i);var o=yu(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ym=jt&&"documentMode"in document&&11>=document.documentMode,$n=null,ia=null,Pr=null,oa=!1;function wu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;oa||$n==null||$n!==ii(r)||(r=$n,"selectionStart"in r&&cl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pr&&Hr(Pr,r)||(Pr=r,r=hi(ia,"onSelect"),0<r.length&&(t=new al("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=$n)))}function Cs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Un={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionend:Cs("Transition","TransitionEnd")},po={},Md={};jt&&(Md=document.createElement("div").style,"AnimationEvent"in window||(delete Un.animationend.animation,delete Un.animationiteration.animation,delete Un.animationstart.animation),"TransitionEvent"in window||delete Un.transitionend.transition);function Ui(e){if(po[e])return po[e];if(!Un[e])return e;var t=Un[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Md)return po[e]=t[n];return e}var Bd=Ui("animationend"),Fd=Ui("animationiteration"),qd=Ui("animationstart"),Vd=Ui("transitionend"),Wd=new Map,xu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yt(e,t){Wd.set(e,t),xn(t,[e])}for(var mo=0;mo<xu.length;mo++){var go=xu[mo],wm=go.toLowerCase(),xm=go[0].toUpperCase()+go.slice(1);Yt(wm,"on"+xm)}Yt(Bd,"onAnimationEnd");Yt(Fd,"onAnimationIteration");Yt(qd,"onAnimationStart");Yt("dblclick","onDoubleClick");Yt("focusin","onFocus");Yt("focusout","onBlur");Yt(Vd,"onTransitionEnd");Zn("onMouseEnter",["mouseout","mouseover"]);Zn("onMouseLeave",["mouseout","mouseover"]);Zn("onPointerEnter",["pointerout","pointerover"]);Zn("onPointerLeave",["pointerout","pointerover"]);xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xn("onBeforeInput",["compositionend","keypress","textInput","paste"]);xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bm=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function bu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,wp(r,t,void 0,e),e.currentTarget=null}function Hd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;bu(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;bu(s,a,c),i=u}}}if(ai)throw e=ta,ai=!1,ta=null,e}function K(e,t){var n=t[da];n===void 0&&(n=t[da]=new Set);var r=e+"__bubble";n.has(r)||(Kd(t,e,2,!1),n.add(r))}function vo(e,t,n){var r=0;t&&(r|=4),Kd(n,e,r,t)}var Ts="_reactListening"+Math.random().toString(36).slice(2);function Kr(e){if(!e[Ts]){e[Ts]=!0,ed.forEach(function(n){n!=="selectionchange"&&(bm.has(n)||vo(n,!1,e),vo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ts]||(t[Ts]=!0,vo("selectionchange",!1,t))}}function Kd(e,t,n,r){switch(Rd(t)){case 1:var s=Lp;break;case 4:s=$p;break;default:s=il}n=s.bind(null,t,n,e),s=void 0,!ea||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function yo(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=un(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}gd(function(){var c=i,d=tl(n),h=[];e:{var f=Wd.get(e);if(f!==void 0){var v=al,y=e;switch(e){case"keypress":if(Js(n)===0)break e;case"keydown":case"keyup":v=Yp;break;case"focusin":y="focus",v=co;break;case"focusout":y="blur",v=co;break;case"beforeblur":case"afterblur":v=co;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=uu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=zp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=em;break;case Bd:case Fd:case qd:v=Fp;break;case Vd:v=nm;break;case"scroll":v=Up;break;case"wheel":v=sm;break;case"copy":case"cut":case"paste":v=Vp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=du}var w=(t&4)!==0,b=!w&&e==="scroll",m=w?f!==null?f+"Capture":null:f;w=[];for(var p=c,g;p!==null;){g=p;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,m!==null&&(_=Br(p,m),_!=null&&w.push(Gr(p,_,g)))),b)break;p=p.return}0<w.length&&(f=new v(f,y,null,n,d),h.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",f&&n!==Xo&&(y=n.relatedTarget||n.fromElement)&&(un(y)||y[Et]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=c,y=y?un(y):null,y!==null&&(b=bn(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(w=uu,_="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(w=du,_="onPointerLeave",m="onPointerEnter",p="pointer"),b=v==null?f:Dn(v),g=y==null?f:Dn(y),f=new w(_,p+"leave",v,n,d),f.target=b,f.relatedTarget=g,_=null,un(d)===c&&(w=new w(m,p+"enter",y,n,d),w.target=g,w.relatedTarget=b,_=w),b=_,v&&y)t:{for(w=v,m=y,p=0,g=w;g;g=kn(g))p++;for(g=0,_=m;_;_=kn(_))g++;for(;0<p-g;)w=kn(w),p--;for(;0<g-p;)m=kn(m),g--;for(;p--;){if(w===m||m!==null&&w===m.alternate)break t;w=kn(w),m=kn(m)}w=null}else w=null;v!==null&&_u(h,f,v,w,!1),y!==null&&b!==null&&_u(h,b,y,w,!0)}}e:{if(f=c?Dn(c):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var k=dm;else if(pu(f))if($d)k=mm;else{k=fm;var S=hm}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=pm);if(k&&(k=k(e,c))){Ld(h,k,n,d);break e}S&&S(e,f,c),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Ko(f,"number",f.value)}switch(S=c?Dn(c):window,e){case"focusin":(pu(S)||S.contentEditable==="true")&&($n=S,ia=c,Pr=null);break;case"focusout":Pr=ia=$n=null;break;case"mousedown":oa=!0;break;case"contextmenu":case"mouseup":case"dragend":oa=!1,wu(h,n,d);break;case"selectionchange":if(ym)break;case"keydown":case"keyup":wu(h,n,d)}var E;if(ul)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ln?Ad(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Od&&n.locale!=="ko"&&(Ln||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ln&&(E=Pd()):(zt=d,ol="value"in zt?zt.value:zt.textContent,Ln=!0)),S=hi(c,C),0<S.length&&(C=new cu(C,e,null,n,d),h.push({event:C,listeners:S}),E?C.data=E:(E=Id(n),E!==null&&(C.data=E)))),(E=om?am(e,n):lm(e,n))&&(c=hi(c,"onBeforeInput"),0<c.length&&(d=new cu("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=E))}Hd(h,t)})}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Br(e,n),i!=null&&r.unshift(Gr(e,i,s)),i=Br(e,t),i!=null&&r.push(Gr(e,i,s))),e=e.return}return r}function kn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _u(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=Br(n,i),u!=null&&o.unshift(Gr(n,u,a))):s||(u=Br(n,i),u!=null&&o.push(Gr(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var _m=/\r\n?/g,km=/\u0000|\uFFFD/g;function ku(e){return(typeof e=="string"?e:""+e).replace(_m,`
`).replace(km,"")}function Rs(e,t,n){if(t=ku(t),ku(e)!==t&&n)throw Error(j(425))}function fi(){}var aa=null,la=null;function ua(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ca=typeof setTimeout=="function"?setTimeout:void 0,Sm=typeof clearTimeout=="function"?clearTimeout:void 0,Su=typeof Promise=="function"?Promise:void 0,jm=typeof queueMicrotask=="function"?queueMicrotask:typeof Su<"u"?function(e){return Su.resolve(null).then(e).catch(Em)}:ca;function Em(e){setTimeout(function(){throw e})}function wo(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Vr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Vr(t)}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ju(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var lr=Math.random().toString(36).slice(2),ct="__reactFiber$"+lr,Jr="__reactProps$"+lr,Et="__reactContainer$"+lr,da="__reactEvents$"+lr,Nm="__reactListeners$"+lr,Cm="__reactHandles$"+lr;function un(e){var t=e[ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Et]||n[ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ju(e);e!==null;){if(n=e[ct])return n;e=ju(e)}return t}e=n,n=e.parentNode}return null}function fs(e){return e=e[ct]||e[Et],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Dn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(j(33))}function Di(e){return e[Jr]||null}var ha=[],zn=-1;function Xt(e){return{current:e}}function G(e){0>zn||(e.current=ha[zn],ha[zn]=null,zn--)}function H(e,t){zn++,ha[zn]=e.current,e.current=t}var Qt={},_e=Xt(Qt),Pe=Xt(!1),mn=Qt;function er(e,t){var n=e.type.contextTypes;if(!n)return Qt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Oe(e){return e=e.childContextTypes,e!=null}function pi(){G(Pe),G(_e)}function Eu(e,t,n){if(_e.current!==Qt)throw Error(j(168));H(_e,t),H(Pe,n)}function Gd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(j(108,hp(e)||"Unknown",s));return te({},n,r)}function mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qt,mn=_e.current,H(_e,e),H(Pe,Pe.current),!0}function Nu(e,t,n){var r=e.stateNode;if(!r)throw Error(j(169));n?(e=Gd(e,t,mn),r.__reactInternalMemoizedMergedChildContext=e,G(Pe),G(_e),H(_e,e)):G(Pe),H(Pe,n)}var xt=null,zi=!1,xo=!1;function Jd(e){xt===null?xt=[e]:xt.push(e)}function Tm(e){zi=!0,Jd(e)}function Zt(){if(!xo&&xt!==null){xo=!0;var e=0,t=q;try{var n=xt;for(q=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}xt=null,zi=!1}catch(s){throw xt!==null&&(xt=xt.slice(e+1)),xd(nl,Zt),s}finally{q=t,xo=!1}}return null}var Mn=[],Bn=0,gi=null,vi=0,Fe=[],qe=0,gn=null,bt=1,_t="";function rn(e,t){Mn[Bn++]=vi,Mn[Bn++]=gi,gi=e,vi=t}function Qd(e,t,n){Fe[qe++]=bt,Fe[qe++]=_t,Fe[qe++]=gn,gn=e;var r=bt;e=_t;var s=32-it(r)-1;r&=~(1<<s),n+=1;var i=32-it(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,bt=1<<32-it(t)+s|n<<s|r,_t=i+e}else bt=1<<i|n<<s|r,_t=e}function dl(e){e.return!==null&&(rn(e,1),Qd(e,1,0))}function hl(e){for(;e===gi;)gi=Mn[--Bn],Mn[Bn]=null,vi=Mn[--Bn],Mn[Bn]=null;for(;e===gn;)gn=Fe[--qe],Fe[qe]=null,_t=Fe[--qe],Fe[qe]=null,bt=Fe[--qe],Fe[qe]=null}var De=null,Ue=null,Y=!1,st=null;function Yd(e,t){var n=Ve(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Cu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,De=e,Ue=Vt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,De=e,Ue=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=gn!==null?{id:bt,overflow:_t}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ve(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,De=e,Ue=null,!0):!1;default:return!1}}function fa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pa(e){if(Y){var t=Ue;if(t){var n=t;if(!Cu(e,t)){if(fa(e))throw Error(j(418));t=Vt(n.nextSibling);var r=De;t&&Cu(e,t)?Yd(r,n):(e.flags=e.flags&-4097|2,Y=!1,De=e)}}else{if(fa(e))throw Error(j(418));e.flags=e.flags&-4097|2,Y=!1,De=e}}}function Tu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;De=e}function Ps(e){if(e!==De)return!1;if(!Y)return Tu(e),Y=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ua(e.type,e.memoizedProps)),t&&(t=Ue)){if(fa(e))throw Xd(),Error(j(418));for(;t;)Yd(e,t),t=Vt(t.nextSibling)}if(Tu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ue=Vt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ue=null}}else Ue=De?Vt(e.stateNode.nextSibling):null;return!0}function Xd(){for(var e=Ue;e;)e=Vt(e.nextSibling)}function tr(){Ue=De=null,Y=!1}function fl(e){st===null?st=[e]:st.push(e)}var Rm=Rt.ReactCurrentBatchConfig;function vr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,e))}return e}function Os(e,t){throw e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ru(e){var t=e._init;return t(e._payload)}function Zd(e){function t(m,p){if(e){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Gt(m,p),m.index=0,m.sibling=null,m}function i(m,p,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,p,g,_){return p===null||p.tag!==6?(p=No(g,m.mode,_),p.return=m,p):(p=s(p,g),p.return=m,p)}function u(m,p,g,_){var k=g.type;return k===In?d(m,p,g.props.children,_,g.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===At&&Ru(k)===p.type)?(_=s(p,g.props),_.ref=vr(m,p,g),_.return=m,_):(_=ni(g.type,g.key,g.props,null,m.mode,_),_.ref=vr(m,p,g),_.return=m,_)}function c(m,p,g,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Co(g,m.mode,_),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function d(m,p,g,_,k){return p===null||p.tag!==7?(p=pn(g,m.mode,_,k),p.return=m,p):(p=s(p,g),p.return=m,p)}function h(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=No(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case bs:return g=ni(p.type,p.key,p.props,null,m.mode,g),g.ref=vr(m,null,p),g.return=m,g;case An:return p=Co(p,m.mode,g),p.return=m,p;case At:var _=p._init;return h(m,_(p._payload),g)}if(kr(p)||hr(p))return p=pn(p,m.mode,g,null),p.return=m,p;Os(m,p)}return null}function f(m,p,g,_){var k=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:a(m,p,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case bs:return g.key===k?u(m,p,g,_):null;case An:return g.key===k?c(m,p,g,_):null;case At:return k=g._init,f(m,p,k(g._payload),_)}if(kr(g)||hr(g))return k!==null?null:d(m,p,g,_,null);Os(m,g)}return null}function v(m,p,g,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(g)||null,a(p,m,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case bs:return m=m.get(_.key===null?g:_.key)||null,u(p,m,_,k);case An:return m=m.get(_.key===null?g:_.key)||null,c(p,m,_,k);case At:var S=_._init;return v(m,p,g,S(_._payload),k)}if(kr(_)||hr(_))return m=m.get(g)||null,d(p,m,_,k,null);Os(p,_)}return null}function y(m,p,g,_){for(var k=null,S=null,E=p,C=p=0,U=null;E!==null&&C<g.length;C++){E.index>C?(U=E,E=null):U=E.sibling;var A=f(m,E,g[C],_);if(A===null){E===null&&(E=U);break}e&&E&&A.alternate===null&&t(m,E),p=i(A,p,C),S===null?k=A:S.sibling=A,S=A,E=U}if(C===g.length)return n(m,E),Y&&rn(m,C),k;if(E===null){for(;C<g.length;C++)E=h(m,g[C],_),E!==null&&(p=i(E,p,C),S===null?k=E:S.sibling=E,S=E);return Y&&rn(m,C),k}for(E=r(m,E);C<g.length;C++)U=v(E,m,C,g[C],_),U!==null&&(e&&U.alternate!==null&&E.delete(U.key===null?C:U.key),p=i(U,p,C),S===null?k=U:S.sibling=U,S=U);return e&&E.forEach(function(fe){return t(m,fe)}),Y&&rn(m,C),k}function w(m,p,g,_){var k=hr(g);if(typeof k!="function")throw Error(j(150));if(g=k.call(g),g==null)throw Error(j(151));for(var S=k=null,E=p,C=p=0,U=null,A=g.next();E!==null&&!A.done;C++,A=g.next()){E.index>C?(U=E,E=null):U=E.sibling;var fe=f(m,E,A.value,_);if(fe===null){E===null&&(E=U);break}e&&E&&fe.alternate===null&&t(m,E),p=i(fe,p,C),S===null?k=fe:S.sibling=fe,S=fe,E=U}if(A.done)return n(m,E),Y&&rn(m,C),k;if(E===null){for(;!A.done;C++,A=g.next())A=h(m,A.value,_),A!==null&&(p=i(A,p,C),S===null?k=A:S.sibling=A,S=A);return Y&&rn(m,C),k}for(E=r(m,E);!A.done;C++,A=g.next())A=v(E,m,C,A.value,_),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?C:A.key),p=i(A,p,C),S===null?k=A:S.sibling=A,S=A);return e&&E.forEach(function(Je){return t(m,Je)}),Y&&rn(m,C),k}function b(m,p,g,_){if(typeof g=="object"&&g!==null&&g.type===In&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case bs:e:{for(var k=g.key,S=p;S!==null;){if(S.key===k){if(k=g.type,k===In){if(S.tag===7){n(m,S.sibling),p=s(S,g.props.children),p.return=m,m=p;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===At&&Ru(k)===S.type){n(m,S.sibling),p=s(S,g.props),p.ref=vr(m,S,g),p.return=m,m=p;break e}n(m,S);break}else t(m,S);S=S.sibling}g.type===In?(p=pn(g.props.children,m.mode,_,g.key),p.return=m,m=p):(_=ni(g.type,g.key,g.props,null,m.mode,_),_.ref=vr(m,p,g),_.return=m,m=_)}return o(m);case An:e:{for(S=g.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else t(m,p);p=p.sibling}p=Co(g,m.mode,_),p.return=m,m=p}return o(m);case At:return S=g._init,b(m,p,S(g._payload),_)}if(kr(g))return y(m,p,g,_);if(hr(g))return w(m,p,g,_);Os(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,g),p.return=m,m=p):(n(m,p),p=No(g,m.mode,_),p.return=m,m=p),o(m)):n(m,p)}return b}var nr=Zd(!0),eh=Zd(!1),yi=Xt(null),wi=null,Fn=null,pl=null;function ml(){pl=Fn=wi=null}function gl(e){var t=yi.current;G(yi),e._currentValue=t}function ma(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Qn(e,t){wi=e,pl=Fn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Re=!0),e.firstContext=null)}function He(e){var t=e._currentValue;if(pl!==e)if(e={context:e,memoizedValue:t,next:null},Fn===null){if(wi===null)throw Error(j(308));Fn=e,wi.dependencies={lanes:0,firstContext:e}}else Fn=Fn.next=e;return t}var cn=null;function vl(e){cn===null?cn=[e]:cn.push(e)}function th(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,vl(t)):(n.next=s.next,s.next=n),t.interleaved=n,Nt(e,r)}function Nt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var It=!1;function yl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,z&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Nt(e,n)}return s=r.interleaved,s===null?(t.next=t,vl(r)):(t.next=s.next,s.next=t),r.interleaved=t,Nt(e,n)}function Qs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rl(e,n)}}function Pu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xi(e,t,n,r){var s=e.updateQueue;It=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,d=c=u=null,a=i;do{var f=a.lane,v=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,w=a;switch(f=t,v=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(v,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(v,h,f):y,f==null)break e;h=te({},h,f);break e;case 2:It=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,u=h):d=d.next=v,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);yn|=o,e.lanes=o,e.memoizedState=h}}function Ou(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(j(191,s));s.call(r)}}}var ps={},ht=Xt(ps),Qr=Xt(ps),Yr=Xt(ps);function dn(e){if(e===ps)throw Error(j(174));return e}function wl(e,t){switch(H(Yr,t),H(Qr,e),H(ht,ps),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jo(t,e)}G(ht),H(ht,t)}function rr(){G(ht),G(Qr),G(Yr)}function rh(e){dn(Yr.current);var t=dn(ht.current),n=Jo(t,e.type);t!==n&&(H(Qr,e),H(ht,n))}function xl(e){Qr.current===e&&(G(ht),G(Qr))}var X=Xt(0);function bi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bo=[];function bl(){for(var e=0;e<bo.length;e++)bo[e]._workInProgressVersionPrimary=null;bo.length=0}var Ys=Rt.ReactCurrentDispatcher,_o=Rt.ReactCurrentBatchConfig,vn=0,Z=null,ue=null,de=null,_i=!1,Or=!1,Xr=0,Pm=0;function we(){throw Error(j(321))}function _l(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!at(e[n],t[n]))return!1;return!0}function kl(e,t,n,r,s,i){if(vn=i,Z=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ys.current=e===null||e.memoizedState===null?Lm:$m,e=n(r,s),Or){i=0;do{if(Or=!1,Xr=0,25<=i)throw Error(j(301));i+=1,de=ue=null,t.updateQueue=null,Ys.current=Um,e=n(r,s)}while(Or)}if(Ys.current=ki,t=ue!==null&&ue.next!==null,vn=0,de=ue=Z=null,_i=!1,t)throw Error(j(300));return e}function Sl(){var e=Xr!==0;return Xr=0,e}function ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Z.memoizedState=de=e:de=de.next=e,de}function Ke(){if(ue===null){var e=Z.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=de===null?Z.memoizedState:de.next;if(t!==null)de=t,ue=e;else{if(e===null)throw Error(j(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},de===null?Z.memoizedState=de=e:de=de.next=e}return de}function Zr(e,t){return typeof t=="function"?t(e):t}function ko(e){var t=Ke(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=ue,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var d=c.lane;if((vn&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,o=r):u=u.next=h,Z.lanes|=d,yn|=d}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,at(r,t.memoizedState)||(Re=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Z.lanes|=i,yn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function So(e){var t=Ke(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);at(i,t.memoizedState)||(Re=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function sh(){}function ih(e,t){var n=Z,r=Ke(),s=t(),i=!at(r.memoizedState,s);if(i&&(r.memoizedState=s,Re=!0),r=r.queue,jl(lh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||de!==null&&de.memoizedState.tag&1){if(n.flags|=2048,es(9,ah.bind(null,n,r,s,t),void 0,null),he===null)throw Error(j(349));vn&30||oh(n,t,s)}return s}function oh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ah(e,t,n,r){t.value=n,t.getSnapshot=r,uh(t)&&ch(e)}function lh(e,t,n){return n(function(){uh(t)&&ch(e)})}function uh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!at(e,n)}catch{return!0}}function ch(e){var t=Nt(e,1);t!==null&&ot(t,e,1,-1)}function Au(e){var t=ut();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:e},t.queue=e,e=e.dispatch=Im.bind(null,Z,e),[t.memoizedState,e]}function es(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function dh(){return Ke().memoizedState}function Xs(e,t,n,r){var s=ut();Z.flags|=e,s.memoizedState=es(1|t,n,void 0,r===void 0?null:r)}function Mi(e,t,n,r){var s=Ke();r=r===void 0?null:r;var i=void 0;if(ue!==null){var o=ue.memoizedState;if(i=o.destroy,r!==null&&_l(r,o.deps)){s.memoizedState=es(t,n,i,r);return}}Z.flags|=e,s.memoizedState=es(1|t,n,i,r)}function Iu(e,t){return Xs(8390656,8,e,t)}function jl(e,t){return Mi(2048,8,e,t)}function hh(e,t){return Mi(4,2,e,t)}function fh(e,t){return Mi(4,4,e,t)}function ph(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mh(e,t,n){return n=n!=null?n.concat([e]):null,Mi(4,4,ph.bind(null,t,e),n)}function El(){}function gh(e,t){var n=Ke();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_l(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function vh(e,t){var n=Ke();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_l(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function yh(e,t,n){return vn&21?(at(n,t)||(n=kd(),Z.lanes|=n,yn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Re=!0),e.memoizedState=n)}function Om(e,t){var n=q;q=n!==0&&4>n?n:4,e(!0);var r=_o.transition;_o.transition={};try{e(!1),t()}finally{q=n,_o.transition=r}}function wh(){return Ke().memoizedState}function Am(e,t,n){var r=Kt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xh(e))bh(t,n);else if(n=th(e,t,n,r),n!==null){var s=Se();ot(n,e,r,s),_h(n,t,r)}}function Im(e,t,n){var r=Kt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xh(e))bh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,at(a,o)){var u=t.interleaved;u===null?(s.next=s,vl(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=th(e,t,s,r),n!==null&&(s=Se(),ot(n,e,r,s),_h(n,t,r))}}function xh(e){var t=e.alternate;return e===Z||t!==null&&t===Z}function bh(e,t){Or=_i=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function _h(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rl(e,n)}}var ki={readContext:He,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},Lm={readContext:He,useCallback:function(e,t){return ut().memoizedState=[e,t===void 0?null:t],e},useContext:He,useEffect:Iu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Xs(4194308,4,ph.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xs(4,2,e,t)},useMemo:function(e,t){var n=ut();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ut();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Am.bind(null,Z,e),[r.memoizedState,e]},useRef:function(e){var t=ut();return e={current:e},t.memoizedState=e},useState:Au,useDebugValue:El,useDeferredValue:function(e){return ut().memoizedState=e},useTransition:function(){var e=Au(!1),t=e[0];return e=Om.bind(null,e[1]),ut().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Z,s=ut();if(Y){if(n===void 0)throw Error(j(407));n=n()}else{if(n=t(),he===null)throw Error(j(349));vn&30||oh(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Iu(lh.bind(null,r,i,e),[e]),r.flags|=2048,es(9,ah.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ut(),t=he.identifierPrefix;if(Y){var n=_t,r=bt;n=(r&~(1<<32-it(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Pm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$m={readContext:He,useCallback:gh,useContext:He,useEffect:jl,useImperativeHandle:mh,useInsertionEffect:hh,useLayoutEffect:fh,useMemo:vh,useReducer:ko,useRef:dh,useState:function(){return ko(Zr)},useDebugValue:El,useDeferredValue:function(e){var t=Ke();return yh(t,ue.memoizedState,e)},useTransition:function(){var e=ko(Zr)[0],t=Ke().memoizedState;return[e,t]},useMutableSource:sh,useSyncExternalStore:ih,useId:wh,unstable_isNewReconciler:!1},Um={readContext:He,useCallback:gh,useContext:He,useEffect:jl,useImperativeHandle:mh,useInsertionEffect:hh,useLayoutEffect:fh,useMemo:vh,useReducer:So,useRef:dh,useState:function(){return So(Zr)},useDebugValue:El,useDeferredValue:function(e){var t=Ke();return ue===null?t.memoizedState=e:yh(t,ue.memoizedState,e)},useTransition:function(){var e=So(Zr)[0],t=Ke().memoizedState;return[e,t]},useMutableSource:sh,useSyncExternalStore:ih,useId:wh,unstable_isNewReconciler:!1};function et(e,t){if(e&&e.defaultProps){t=te({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ga(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:te({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Bi={isMounted:function(e){return(e=e._reactInternals)?bn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Se(),s=Kt(e),i=kt(r,s);i.payload=t,n!=null&&(i.callback=n),t=Wt(e,i,s),t!==null&&(ot(t,e,s,r),Qs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Se(),s=Kt(e),i=kt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Wt(e,i,s),t!==null&&(ot(t,e,s,r),Qs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Se(),r=Kt(e),s=kt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Wt(e,s,r),t!==null&&(ot(t,e,r,n),Qs(t,e,r))}};function Lu(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Hr(n,r)||!Hr(s,i):!0}function kh(e,t,n){var r=!1,s=Qt,i=t.contextType;return typeof i=="object"&&i!==null?i=He(i):(s=Oe(t)?mn:_e.current,r=t.contextTypes,i=(r=r!=null)?er(e,s):Qt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function $u(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bi.enqueueReplaceState(t,t.state,null)}function va(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},yl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=He(i):(i=Oe(t)?mn:_e.current,s.context=er(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ga(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Bi.enqueueReplaceState(s,s.state,null),xi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function sr(e,t){try{var n="",r=t;do n+=dp(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function jo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ya(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Dm=typeof WeakMap=="function"?WeakMap:Map;function Sh(e,t,n){n=kt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ji||(ji=!0,Ca=r),ya(e,t)},n}function jh(e,t,n){n=kt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ya(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ya(e,t),typeof r!="function"&&(Ht===null?Ht=new Set([this]):Ht.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Uu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Dm;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Xm.bind(null,e,t,n),t.then(e,e))}function Du(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zu(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kt(-1,1),t.tag=2,Wt(n,t,1))),n.lanes|=1),e)}var zm=Rt.ReactCurrentOwner,Re=!1;function ke(e,t,n,r){t.child=e===null?eh(t,null,n,r):nr(t,e.child,n,r)}function Mu(e,t,n,r,s){n=n.render;var i=t.ref;return Qn(t,s),r=kl(e,t,n,r,i,s),n=Sl(),e!==null&&!Re?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ct(e,t,s)):(Y&&n&&dl(t),t.flags|=1,ke(e,t,r,s),t.child)}function Bu(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Il(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Eh(e,t,i,r,s)):(e=ni(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Hr,n(o,r)&&e.ref===t.ref)return Ct(e,t,s)}return t.flags|=1,e=Gt(i,r),e.ref=t.ref,e.return=t,t.child=e}function Eh(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Hr(i,r)&&e.ref===t.ref)if(Re=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Re=!0);else return t.lanes=e.lanes,Ct(e,t,s)}return wa(e,t,n,r,s)}function Nh(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(Vn,Le),Le|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,H(Vn,Le),Le|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,H(Vn,Le),Le|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,H(Vn,Le),Le|=r;return ke(e,t,s,n),t.child}function Ch(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function wa(e,t,n,r,s){var i=Oe(n)?mn:_e.current;return i=er(t,i),Qn(t,s),n=kl(e,t,n,r,i,s),r=Sl(),e!==null&&!Re?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ct(e,t,s)):(Y&&r&&dl(t),t.flags|=1,ke(e,t,n,s),t.child)}function Fu(e,t,n,r,s){if(Oe(n)){var i=!0;mi(t)}else i=!1;if(Qn(t,s),t.stateNode===null)Zs(e,t),kh(t,n,r),va(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=He(c):(c=Oe(n)?mn:_e.current,c=er(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&$u(t,o,r,c),It=!1;var f=t.memoizedState;o.state=f,xi(t,r,o,s),u=t.memoizedState,a!==r||f!==u||Pe.current||It?(typeof d=="function"&&(ga(t,n,d,r),u=t.memoizedState),(a=It||Lu(t,n,a,r,f,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,nh(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:et(t.type,a),o.props=c,h=t.pendingProps,f=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=He(u):(u=Oe(n)?mn:_e.current,u=er(t,u));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==u)&&$u(t,o,r,u),It=!1,f=t.memoizedState,o.state=f,xi(t,r,o,s);var y=t.memoizedState;a!==h||f!==y||Pe.current||It?(typeof v=="function"&&(ga(t,n,v,r),y=t.memoizedState),(c=It||Lu(t,n,c,r,f,y,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return xa(e,t,n,r,i,s)}function xa(e,t,n,r,s,i){Ch(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Nu(t,n,!1),Ct(e,t,i);r=t.stateNode,zm.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=nr(t,e.child,null,i),t.child=nr(t,null,a,i)):ke(e,t,a,i),t.memoizedState=r.state,s&&Nu(t,n,!0),t.child}function Th(e){var t=e.stateNode;t.pendingContext?Eu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Eu(e,t.context,!1),wl(e,t.containerInfo)}function qu(e,t,n,r,s){return tr(),fl(s),t.flags|=256,ke(e,t,n,r),t.child}var ba={dehydrated:null,treeContext:null,retryLane:0};function _a(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rh(e,t,n){var r=t.pendingProps,s=X.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),H(X,s&1),e===null)return pa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Vi(o,r,0,null),e=pn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=_a(n),t.memoizedState=ba,e):Nl(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Mm(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Gt(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Gt(a,i):(i=pn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?_a(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=ba,r}return i=e.child,e=i.sibling,r=Gt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Nl(e,t){return t=Vi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function As(e,t,n,r){return r!==null&&fl(r),nr(t,e.child,null,n),e=Nl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Mm(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=jo(Error(j(422))),As(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Vi({mode:"visible",children:r.children},s,0,null),i=pn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&nr(t,e.child,null,o),t.child.memoizedState=_a(o),t.memoizedState=ba,i);if(!(t.mode&1))return As(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(j(419)),r=jo(i,r,void 0),As(e,t,o,r)}if(a=(o&e.childLanes)!==0,Re||a){if(r=he,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Nt(e,s),ot(r,e,s,-1))}return Al(),r=jo(Error(j(421))),As(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Zm.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ue=Vt(s.nextSibling),De=t,Y=!0,st=null,e!==null&&(Fe[qe++]=bt,Fe[qe++]=_t,Fe[qe++]=gn,bt=e.id,_t=e.overflow,gn=t),t=Nl(t,r.children),t.flags|=4096,t)}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ma(e.return,t,n)}function Eo(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ph(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(ke(e,t,r.children,n),r=X.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vu(e,n,t);else if(e.tag===19)Vu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(H(X,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&bi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Eo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&bi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Eo(t,!0,n,null,i);break;case"together":Eo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ct(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),yn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,n=Gt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Bm(e,t,n){switch(t.tag){case 3:Th(t),tr();break;case 5:rh(t);break;case 1:Oe(t.type)&&mi(t);break;case 4:wl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;H(yi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(H(X,X.current&1),t.flags|=128,null):n&t.child.childLanes?Rh(e,t,n):(H(X,X.current&1),e=Ct(e,t,n),e!==null?e.sibling:null);H(X,X.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ph(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),H(X,X.current),r)break;return null;case 22:case 23:return t.lanes=0,Nh(e,t,n)}return Ct(e,t,n)}var Oh,ka,Ah,Ih;Oh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ka=function(){};Ah=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,dn(ht.current);var i=null;switch(n){case"input":s=Wo(e,s),r=Wo(e,r),i=[];break;case"select":s=te({},s,{value:void 0}),r=te({},r,{value:void 0}),i=[];break;case"textarea":s=Go(e,s),r=Go(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=fi)}Qo(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(zr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(zr.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&K("scroll",e),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Ih=function(e,t,n,r){n!==r&&(t.flags|=4)};function yr(e,t){if(!Y)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Fm(e,t,n){var r=t.pendingProps;switch(hl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(t),null;case 1:return Oe(t.type)&&pi(),xe(t),null;case 3:return r=t.stateNode,rr(),G(Pe),G(_e),bl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ps(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,st!==null&&(Pa(st),st=null))),ka(e,t),xe(t),null;case 5:xl(t);var s=dn(Yr.current);if(n=t.type,e!==null&&t.stateNode!=null)Ah(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(j(166));return xe(t),null}if(e=dn(ht.current),Ps(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ct]=t,r[Jr]=i,e=(t.mode&1)!==0,n){case"dialog":K("cancel",r),K("close",r);break;case"iframe":case"object":case"embed":K("load",r);break;case"video":case"audio":for(s=0;s<jr.length;s++)K(jr[s],r);break;case"source":K("error",r);break;case"img":case"image":case"link":K("error",r),K("load",r);break;case"details":K("toggle",r);break;case"input":Zl(r,i),K("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},K("invalid",r);break;case"textarea":tu(r,i),K("invalid",r)}Qo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Rs(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Rs(r.textContent,a,e),s=["children",""+a]):zr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&K("scroll",r)}switch(n){case"input":_s(r),eu(r,i,!0);break;case"textarea":_s(r),nu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=fi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ld(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ct]=t,e[Jr]=r,Oh(e,t,!1,!1),t.stateNode=e;e:{switch(o=Yo(n,r),n){case"dialog":K("cancel",e),K("close",e),s=r;break;case"iframe":case"object":case"embed":K("load",e),s=r;break;case"video":case"audio":for(s=0;s<jr.length;s++)K(jr[s],e);s=r;break;case"source":K("error",e),s=r;break;case"img":case"image":case"link":K("error",e),K("load",e),s=r;break;case"details":K("toggle",e),s=r;break;case"input":Zl(e,r),s=Wo(e,r),K("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=te({},r,{value:void 0}),K("invalid",e);break;case"textarea":tu(e,r),s=Go(e,r),K("invalid",e);break;default:s=r}Qo(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?dd(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&ud(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Mr(e,u):typeof u=="number"&&Mr(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zr.hasOwnProperty(i)?u!=null&&i==="onScroll"&&K("scroll",e):u!=null&&Ya(e,i,u,o))}switch(n){case"input":_s(e),eu(e,r,!1);break;case"textarea":_s(e),nu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Jt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Hn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Hn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=fi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xe(t),null;case 6:if(e&&t.stateNode!=null)Ih(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(j(166));if(n=dn(Yr.current),dn(ht.current),Ps(t)){if(r=t.stateNode,n=t.memoizedProps,r[ct]=t,(i=r.nodeValue!==n)&&(e=De,e!==null))switch(e.tag){case 3:Rs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rs(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ct]=t,t.stateNode=r}return xe(t),null;case 13:if(G(X),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Y&&Ue!==null&&t.mode&1&&!(t.flags&128))Xd(),tr(),t.flags|=98560,i=!1;else if(i=Ps(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(j(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[ct]=t}else tr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xe(t),i=!1}else st!==null&&(Pa(st),st=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||X.current&1?ce===0&&(ce=3):Al())),t.updateQueue!==null&&(t.flags|=4),xe(t),null);case 4:return rr(),ka(e,t),e===null&&Kr(t.stateNode.containerInfo),xe(t),null;case 10:return gl(t.type._context),xe(t),null;case 17:return Oe(t.type)&&pi(),xe(t),null;case 19:if(G(X),i=t.memoizedState,i===null)return xe(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)yr(i,!1);else{if(ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=bi(e),o!==null){for(t.flags|=128,yr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return H(X,X.current&1|2),t.child}e=e.sibling}i.tail!==null&&se()>ir&&(t.flags|=128,r=!0,yr(i,!1),t.lanes=4194304)}else{if(!r)if(e=bi(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),yr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Y)return xe(t),null}else 2*se()-i.renderingStartTime>ir&&n!==1073741824&&(t.flags|=128,r=!0,yr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=se(),t.sibling=null,n=X.current,H(X,r?n&1|2:n&1),t):(xe(t),null);case 22:case 23:return Ol(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Le&1073741824&&(xe(t),t.subtreeFlags&6&&(t.flags|=8192)):xe(t),null;case 24:return null;case 25:return null}throw Error(j(156,t.tag))}function qm(e,t){switch(hl(t),t.tag){case 1:return Oe(t.type)&&pi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rr(),G(Pe),G(_e),bl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xl(t),null;case 13:if(G(X),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));tr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(X),null;case 4:return rr(),null;case 10:return gl(t.type._context),null;case 22:case 23:return Ol(),null;case 24:return null;default:return null}}var Is=!1,be=!1,Vm=typeof WeakSet=="function"?WeakSet:Set,P=null;function qn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){re(e,t,r)}else n.current=null}function Sa(e,t,n){try{n()}catch(r){re(e,t,r)}}var Wu=!1;function Wm(e,t){if(aa=ci,e=zd(),cl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===e)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(u=o),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(la={focusedElem:e,selectionRange:n},ci=!1,P=t;P!==null;)if(t=P,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,P=e;else for(;P!==null;){t=P;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,b=y.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:et(t.type,w),b);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(_){re(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,P=e;break}P=t.return}return y=Wu,Wu=!1,y}function Ar(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Sa(t,n,i)}s=s.next}while(s!==r)}}function Fi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ja(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Lh(e){var t=e.alternate;t!==null&&(e.alternate=null,Lh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ct],delete t[Jr],delete t[da],delete t[Nm],delete t[Cm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $h(e){return e.tag===5||e.tag===3||e.tag===4}function Hu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$h(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ea(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fi));else if(r!==4&&(e=e.child,e!==null))for(Ea(e,t,n),e=e.sibling;e!==null;)Ea(e,t,n),e=e.sibling}function Na(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Na(e,t,n),e=e.sibling;e!==null;)Na(e,t,n),e=e.sibling}var ge=null,nt=!1;function Ot(e,t,n){for(n=n.child;n!==null;)Uh(e,t,n),n=n.sibling}function Uh(e,t,n){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(Ii,n)}catch{}switch(n.tag){case 5:be||qn(n,t);case 6:var r=ge,s=nt;ge=null,Ot(e,t,n),ge=r,nt=s,ge!==null&&(nt?(e=ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ge.removeChild(n.stateNode));break;case 18:ge!==null&&(nt?(e=ge,n=n.stateNode,e.nodeType===8?wo(e.parentNode,n):e.nodeType===1&&wo(e,n),Vr(e)):wo(ge,n.stateNode));break;case 4:r=ge,s=nt,ge=n.stateNode.containerInfo,nt=!0,Ot(e,t,n),ge=r,nt=s;break;case 0:case 11:case 14:case 15:if(!be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Sa(n,t,o),s=s.next}while(s!==r)}Ot(e,t,n);break;case 1:if(!be&&(qn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){re(n,t,a)}Ot(e,t,n);break;case 21:Ot(e,t,n);break;case 22:n.mode&1?(be=(r=be)||n.memoizedState!==null,Ot(e,t,n),be=r):Ot(e,t,n);break;default:Ot(e,t,n)}}function Ku(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Vm),t.forEach(function(r){var s=eg.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Xe(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:ge=a.stateNode,nt=!1;break e;case 3:ge=a.stateNode.containerInfo,nt=!0;break e;case 4:ge=a.stateNode.containerInfo,nt=!0;break e}a=a.return}if(ge===null)throw Error(j(160));Uh(i,o,s),ge=null,nt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){re(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Dh(t,e),t=t.sibling}function Dh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xe(t,e),lt(e),r&4){try{Ar(3,e,e.return),Fi(3,e)}catch(w){re(e,e.return,w)}try{Ar(5,e,e.return)}catch(w){re(e,e.return,w)}}break;case 1:Xe(t,e),lt(e),r&512&&n!==null&&qn(n,n.return);break;case 5:if(Xe(t,e),lt(e),r&512&&n!==null&&qn(n,n.return),e.flags&32){var s=e.stateNode;try{Mr(s,"")}catch(w){re(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&od(s,i),Yo(a,o);var c=Yo(a,i);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];d==="style"?dd(s,h):d==="dangerouslySetInnerHTML"?ud(s,h):d==="children"?Mr(s,h):Ya(s,d,h,c)}switch(a){case"input":Ho(s,i);break;case"textarea":ad(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Hn(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?Hn(s,!!i.multiple,i.defaultValue,!0):Hn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Jr]=i}catch(w){re(e,e.return,w)}}break;case 6:if(Xe(t,e),lt(e),r&4){if(e.stateNode===null)throw Error(j(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){re(e,e.return,w)}}break;case 3:if(Xe(t,e),lt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vr(t.containerInfo)}catch(w){re(e,e.return,w)}break;case 4:Xe(t,e),lt(e);break;case 13:Xe(t,e),lt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Rl=se())),r&4&&Ku(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(be=(c=be)||d,Xe(t,e),be=c):Xe(t,e),lt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(P=e,d=e.child;d!==null;){for(h=P=d;P!==null;){switch(f=P,v=f.child,f.tag){case 0:case 11:case 14:case 15:Ar(4,f,f.return);break;case 1:qn(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){re(r,n,w)}}break;case 5:qn(f,f.return);break;case 22:if(f.memoizedState!==null){Ju(h);continue}}v!==null?(v.return=f,P=v):Ju(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=cd("display",o))}catch(w){re(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){re(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xe(t,e),lt(e),r&4&&Ku(e);break;case 21:break;default:Xe(t,e),lt(e)}}function lt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if($h(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Mr(s,""),r.flags&=-33);var i=Hu(e);Na(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Hu(e);Ea(e,a,o);break;default:throw Error(j(161))}}catch(u){re(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hm(e,t,n){P=e,zh(e)}function zh(e,t,n){for(var r=(e.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Is;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||be;a=Is;var c=be;if(Is=o,(be=u)&&!c)for(P=s;P!==null;)o=P,u=o.child,o.tag===22&&o.memoizedState!==null?Qu(s):u!==null?(u.return=o,P=u):Qu(s);for(;i!==null;)P=i,zh(i),i=i.sibling;P=s,Is=a,be=c}Gu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):Gu(e)}}function Gu(e){for(;P!==null;){var t=P;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:be||Fi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!be)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:et(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ou(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ou(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Vr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}be||t.flags&512&&ja(t)}catch(f){re(t,t.return,f)}}if(t===e){P=null;break}if(n=t.sibling,n!==null){n.return=t.return,P=n;break}P=t.return}}function Ju(e){for(;P!==null;){var t=P;if(t===e){P=null;break}var n=t.sibling;if(n!==null){n.return=t.return,P=n;break}P=t.return}}function Qu(e){for(;P!==null;){var t=P;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Fi(4,t)}catch(u){re(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){re(t,s,u)}}var i=t.return;try{ja(t)}catch(u){re(t,i,u)}break;case 5:var o=t.return;try{ja(t)}catch(u){re(t,o,u)}}}catch(u){re(t,t.return,u)}if(t===e){P=null;break}var a=t.sibling;if(a!==null){a.return=t.return,P=a;break}P=t.return}}var Km=Math.ceil,Si=Rt.ReactCurrentDispatcher,Cl=Rt.ReactCurrentOwner,We=Rt.ReactCurrentBatchConfig,z=0,he=null,ae=null,ve=0,Le=0,Vn=Xt(0),ce=0,ts=null,yn=0,qi=0,Tl=0,Ir=null,Ce=null,Rl=0,ir=1/0,yt=null,ji=!1,Ca=null,Ht=null,Ls=!1,Mt=null,Ei=0,Lr=0,Ta=null,ei=-1,ti=0;function Se(){return z&6?se():ei!==-1?ei:ei=se()}function Kt(e){return e.mode&1?z&2&&ve!==0?ve&-ve:Rm.transition!==null?(ti===0&&(ti=kd()),ti):(e=q,e!==0||(e=window.event,e=e===void 0?16:Rd(e.type)),e):1}function ot(e,t,n,r){if(50<Lr)throw Lr=0,Ta=null,Error(j(185));ds(e,n,r),(!(z&2)||e!==he)&&(e===he&&(!(z&2)&&(qi|=n),ce===4&&Ut(e,ve)),Ae(e,r),n===1&&z===0&&!(t.mode&1)&&(ir=se()+500,zi&&Zt()))}function Ae(e,t){var n=e.callbackNode;Rp(e,t);var r=ui(e,e===he?ve:0);if(r===0)n!==null&&iu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&iu(n),t===1)e.tag===0?Tm(Yu.bind(null,e)):Jd(Yu.bind(null,e)),jm(function(){!(z&6)&&Zt()}),n=null;else{switch(Sd(r)){case 1:n=nl;break;case 4:n=bd;break;case 16:n=li;break;case 536870912:n=_d;break;default:n=li}n=Kh(n,Mh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Mh(e,t){if(ei=-1,ti=0,z&6)throw Error(j(327));var n=e.callbackNode;if(Yn()&&e.callbackNode!==n)return null;var r=ui(e,e===he?ve:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ni(e,r);else{t=r;var s=z;z|=2;var i=Fh();(he!==e||ve!==t)&&(yt=null,ir=se()+500,fn(e,t));do try{Qm();break}catch(a){Bh(e,a)}while(1);ml(),Si.current=i,z=s,ae!==null?t=0:(he=null,ve=0,t=ce)}if(t!==0){if(t===2&&(s=na(e),s!==0&&(r=s,t=Ra(e,s))),t===1)throw n=ts,fn(e,0),Ut(e,r),Ae(e,se()),n;if(t===6)Ut(e,r);else{if(s=e.current.alternate,!(r&30)&&!Gm(s)&&(t=Ni(e,r),t===2&&(i=na(e),i!==0&&(r=i,t=Ra(e,i))),t===1))throw n=ts,fn(e,0),Ut(e,r),Ae(e,se()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(j(345));case 2:sn(e,Ce,yt);break;case 3:if(Ut(e,r),(r&130023424)===r&&(t=Rl+500-se(),10<t)){if(ui(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Se(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ca(sn.bind(null,e,Ce,yt),t);break}sn(e,Ce,yt);break;case 4:if(Ut(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-it(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Km(r/1960))-r,10<r){e.timeoutHandle=ca(sn.bind(null,e,Ce,yt),r);break}sn(e,Ce,yt);break;case 5:sn(e,Ce,yt);break;default:throw Error(j(329))}}}return Ae(e,se()),e.callbackNode===n?Mh.bind(null,e):null}function Ra(e,t){var n=Ir;return e.current.memoizedState.isDehydrated&&(fn(e,t).flags|=256),e=Ni(e,t),e!==2&&(t=Ce,Ce=n,t!==null&&Pa(t)),e}function Pa(e){Ce===null?Ce=e:Ce.push.apply(Ce,e)}function Gm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!at(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ut(e,t){for(t&=~Tl,t&=~qi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function Yu(e){if(z&6)throw Error(j(327));Yn();var t=ui(e,0);if(!(t&1))return Ae(e,se()),null;var n=Ni(e,t);if(e.tag!==0&&n===2){var r=na(e);r!==0&&(t=r,n=Ra(e,r))}if(n===1)throw n=ts,fn(e,0),Ut(e,t),Ae(e,se()),n;if(n===6)throw Error(j(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sn(e,Ce,yt),Ae(e,se()),null}function Pl(e,t){var n=z;z|=1;try{return e(t)}finally{z=n,z===0&&(ir=se()+500,zi&&Zt())}}function wn(e){Mt!==null&&Mt.tag===0&&!(z&6)&&Yn();var t=z;z|=1;var n=We.transition,r=q;try{if(We.transition=null,q=1,e)return e()}finally{q=r,We.transition=n,z=t,!(z&6)&&Zt()}}function Ol(){Le=Vn.current,G(Vn)}function fn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Sm(n)),ae!==null)for(n=ae.return;n!==null;){var r=n;switch(hl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pi();break;case 3:rr(),G(Pe),G(_e),bl();break;case 5:xl(r);break;case 4:rr();break;case 13:G(X);break;case 19:G(X);break;case 10:gl(r.type._context);break;case 22:case 23:Ol()}n=n.return}if(he=e,ae=e=Gt(e.current,null),ve=Le=t,ce=0,ts=null,Tl=qi=yn=0,Ce=Ir=null,cn!==null){for(t=0;t<cn.length;t++)if(n=cn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}cn=null}return e}function Bh(e,t){do{var n=ae;try{if(ml(),Ys.current=ki,_i){for(var r=Z.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}_i=!1}if(vn=0,de=ue=Z=null,Or=!1,Xr=0,Cl.current=null,n===null||n.return===null){ce=1,ts=t,ae=null;break}e:{var i=e,o=n.return,a=n,u=t;if(t=ve,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Du(o);if(v!==null){v.flags&=-257,zu(v,o,a,i,t),v.mode&1&&Uu(i,c,t),t=v,u=c;var y=t.updateQueue;if(y===null){var w=new Set;w.add(u),t.updateQueue=w}else y.add(u);break e}else{if(!(t&1)){Uu(i,c,t),Al();break e}u=Error(j(426))}}else if(Y&&a.mode&1){var b=Du(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),zu(b,o,a,i,t),fl(sr(u,a));break e}}i=u=sr(u,a),ce!==4&&(ce=2),Ir===null?Ir=[i]:Ir.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Sh(i,u,t);Pu(i,m);break e;case 1:a=u;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ht===null||!Ht.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=jh(i,a,t);Pu(i,_);break e}}i=i.return}while(i!==null)}Vh(n)}catch(k){t=k,ae===n&&n!==null&&(ae=n=n.return);continue}break}while(1)}function Fh(){var e=Si.current;return Si.current=ki,e===null?ki:e}function Al(){(ce===0||ce===3||ce===2)&&(ce=4),he===null||!(yn&268435455)&&!(qi&268435455)||Ut(he,ve)}function Ni(e,t){var n=z;z|=2;var r=Fh();(he!==e||ve!==t)&&(yt=null,fn(e,t));do try{Jm();break}catch(s){Bh(e,s)}while(1);if(ml(),z=n,Si.current=r,ae!==null)throw Error(j(261));return he=null,ve=0,ce}function Jm(){for(;ae!==null;)qh(ae)}function Qm(){for(;ae!==null&&!bp();)qh(ae)}function qh(e){var t=Hh(e.alternate,e,Le);e.memoizedProps=e.pendingProps,t===null?Vh(e):ae=t,Cl.current=null}function Vh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=qm(n,t),n!==null){n.flags&=32767,ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ce=6,ae=null;return}}else if(n=Fm(n,t,Le),n!==null){ae=n;return}if(t=t.sibling,t!==null){ae=t;return}ae=t=e}while(t!==null);ce===0&&(ce=5)}function sn(e,t,n){var r=q,s=We.transition;try{We.transition=null,q=1,Ym(e,t,n,r)}finally{We.transition=s,q=r}return null}function Ym(e,t,n,r){do Yn();while(Mt!==null);if(z&6)throw Error(j(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(j(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Pp(e,i),e===he&&(ae=he=null,ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ls||(Ls=!0,Kh(li,function(){return Yn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=We.transition,We.transition=null;var o=q;q=1;var a=z;z|=4,Cl.current=null,Wm(e,n),Dh(n,e),vm(la),ci=!!aa,la=aa=null,e.current=n,Hm(n),_p(),z=a,q=o,We.transition=i}else e.current=n;if(Ls&&(Ls=!1,Mt=e,Ei=s),i=e.pendingLanes,i===0&&(Ht=null),jp(n.stateNode),Ae(e,se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ji)throw ji=!1,e=Ca,Ca=null,e;return Ei&1&&e.tag!==0&&Yn(),i=e.pendingLanes,i&1?e===Ta?Lr++:(Lr=0,Ta=e):Lr=0,Zt(),null}function Yn(){if(Mt!==null){var e=Sd(Ei),t=We.transition,n=q;try{if(We.transition=null,q=16>e?16:e,Mt===null)var r=!1;else{if(e=Mt,Mt=null,Ei=0,z&6)throw Error(j(331));var s=z;for(z|=4,P=e.current;P!==null;){var i=P,o=i.child;if(P.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(P=c;P!==null;){var d=P;switch(d.tag){case 0:case 11:case 15:Ar(8,d,i)}var h=d.child;if(h!==null)h.return=d,P=h;else for(;P!==null;){d=P;var f=d.sibling,v=d.return;if(Lh(d),d===c){P=null;break}if(f!==null){f.return=v,P=f;break}P=v}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}P=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,P=o;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ar(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,P=m;break e}P=i.return}}var p=e.current;for(P=p;P!==null;){o=P;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,P=g;else e:for(o=p;P!==null;){if(a=P,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fi(9,a)}}catch(k){re(a,a.return,k)}if(a===o){P=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,P=_;break e}P=a.return}}if(z=s,Zt(),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(Ii,e)}catch{}r=!0}return r}finally{q=n,We.transition=t}}return!1}function Xu(e,t,n){t=sr(n,t),t=Sh(e,t,1),e=Wt(e,t,1),t=Se(),e!==null&&(ds(e,1,t),Ae(e,t))}function re(e,t,n){if(e.tag===3)Xu(e,e,n);else for(;t!==null;){if(t.tag===3){Xu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ht===null||!Ht.has(r))){e=sr(n,e),e=jh(t,e,1),t=Wt(t,e,1),e=Se(),t!==null&&(ds(t,1,e),Ae(t,e));break}}t=t.return}}function Xm(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Se(),e.pingedLanes|=e.suspendedLanes&n,he===e&&(ve&n)===n&&(ce===4||ce===3&&(ve&130023424)===ve&&500>se()-Rl?fn(e,0):Tl|=n),Ae(e,t)}function Wh(e,t){t===0&&(e.mode&1?(t=js,js<<=1,!(js&130023424)&&(js=4194304)):t=1);var n=Se();e=Nt(e,t),e!==null&&(ds(e,t,n),Ae(e,n))}function Zm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Wh(e,n)}function eg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(t),Wh(e,n)}var Hh;Hh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pe.current)Re=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Re=!1,Bm(e,t,n);Re=!!(e.flags&131072)}else Re=!1,Y&&t.flags&1048576&&Qd(t,vi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Zs(e,t),e=t.pendingProps;var s=er(t,_e.current);Qn(t,n),s=kl(null,t,r,e,s,n);var i=Sl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oe(r)?(i=!0,mi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,yl(t),s.updater=Bi,t.stateNode=s,s._reactInternals=t,va(t,r,e,n),t=xa(null,t,r,!0,i,n)):(t.tag=0,Y&&i&&dl(t),ke(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Zs(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=ng(r),e=et(r,e),s){case 0:t=wa(null,t,r,e,n);break e;case 1:t=Fu(null,t,r,e,n);break e;case 11:t=Mu(null,t,r,e,n);break e;case 14:t=Bu(null,t,r,et(r.type,e),n);break e}throw Error(j(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:et(r,s),wa(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:et(r,s),Fu(e,t,r,s,n);case 3:e:{if(Th(t),e===null)throw Error(j(387));r=t.pendingProps,i=t.memoizedState,s=i.element,nh(e,t),xi(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=sr(Error(j(423)),t),t=qu(e,t,r,n,s);break e}else if(r!==s){s=sr(Error(j(424)),t),t=qu(e,t,r,n,s);break e}else for(Ue=Vt(t.stateNode.containerInfo.firstChild),De=t,Y=!0,st=null,n=eh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(tr(),r===s){t=Ct(e,t,n);break e}ke(e,t,r,n)}t=t.child}return t;case 5:return rh(t),e===null&&pa(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ua(r,s)?o=null:i!==null&&ua(r,i)&&(t.flags|=32),Ch(e,t),ke(e,t,o,n),t.child;case 6:return e===null&&pa(t),null;case 13:return Rh(e,t,n);case 4:return wl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=nr(t,null,r,n):ke(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:et(r,s),Mu(e,t,r,s,n);case 7:return ke(e,t,t.pendingProps,n),t.child;case 8:return ke(e,t,t.pendingProps.children,n),t.child;case 12:return ke(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,H(yi,r._currentValue),r._currentValue=o,i!==null)if(at(i.value,o)){if(i.children===s.children&&!Pe.current){t=Ct(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=kt(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),ma(i.return,n,t),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(j(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ma(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ke(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Qn(t,n),s=He(s),r=r(s),t.flags|=1,ke(e,t,r,n),t.child;case 14:return r=t.type,s=et(r,t.pendingProps),s=et(r.type,s),Bu(e,t,r,s,n);case 15:return Eh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:et(r,s),Zs(e,t),t.tag=1,Oe(r)?(e=!0,mi(t)):e=!1,Qn(t,n),kh(t,r,s),va(t,r,s,n),xa(null,t,r,!0,e,n);case 19:return Ph(e,t,n);case 22:return Nh(e,t,n)}throw Error(j(156,t.tag))};function Kh(e,t){return xd(e,t)}function tg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(e,t,n,r){return new tg(e,t,n,r)}function Il(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ng(e){if(typeof e=="function")return Il(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Za)return 11;if(e===el)return 14}return 2}function Gt(e,t){var n=e.alternate;return n===null?(n=Ve(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ni(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Il(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case In:return pn(n.children,s,i,t);case Xa:o=8,s|=8;break;case Bo:return e=Ve(12,n,t,s|2),e.elementType=Bo,e.lanes=i,e;case Fo:return e=Ve(13,n,t,s),e.elementType=Fo,e.lanes=i,e;case qo:return e=Ve(19,n,t,s),e.elementType=qo,e.lanes=i,e;case rd:return Vi(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case td:o=10;break e;case nd:o=9;break e;case Za:o=11;break e;case el:o=14;break e;case At:o=16,r=null;break e}throw Error(j(130,e==null?e:typeof e,""))}return t=Ve(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function pn(e,t,n,r){return e=Ve(7,e,r,t),e.lanes=n,e}function Vi(e,t,n,r){return e=Ve(22,e,r,t),e.elementType=rd,e.lanes=n,e.stateNode={isHidden:!1},e}function No(e,t,n){return e=Ve(6,e,null,t),e.lanes=n,e}function Co(e,t,n){return t=Ve(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rg(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ao(0),this.expirationTimes=ao(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ao(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ll(e,t,n,r,s,i,o,a,u){return e=new rg(e,t,n,a,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ve(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yl(i),e}function sg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:An,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Gh(e){if(!e)return Qt;e=e._reactInternals;e:{if(bn(e)!==e||e.tag!==1)throw Error(j(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(j(171))}if(e.tag===1){var n=e.type;if(Oe(n))return Gd(e,n,t)}return t}function Jh(e,t,n,r,s,i,o,a,u){return e=Ll(n,r,!0,e,s,i,o,a,u),e.context=Gh(null),n=e.current,r=Se(),s=Kt(n),i=kt(r,s),i.callback=t??null,Wt(n,i,s),e.current.lanes=s,ds(e,s,r),Ae(e,r),e}function Wi(e,t,n,r){var s=t.current,i=Se(),o=Kt(s);return n=Gh(n),t.context===null?t.context=n:t.pendingContext=n,t=kt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Wt(s,t,o),e!==null&&(ot(e,s,o,i),Qs(e,s,o)),o}function Ci(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $l(e,t){Zu(e,t),(e=e.alternate)&&Zu(e,t)}function ig(){return null}var Qh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ul(e){this._internalRoot=e}Hi.prototype.render=Ul.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));Wi(e,t,null,null)};Hi.prototype.unmount=Ul.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wn(function(){Wi(null,e,null,null)}),t[Et]=null}};function Hi(e){this._internalRoot=e}Hi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$t.length&&t!==0&&t<$t[n].priority;n++);$t.splice(n,0,e),n===0&&Td(e)}};function Dl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ki(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ec(){}function og(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Ci(o);i.call(c)}}var o=Jh(t,r,e,0,null,!1,!1,"",ec);return e._reactRootContainer=o,e[Et]=o.current,Kr(e.nodeType===8?e.parentNode:e),wn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Ci(u);a.call(c)}}var u=Ll(e,0,!1,null,null,!1,!1,"",ec);return e._reactRootContainer=u,e[Et]=u.current,Kr(e.nodeType===8?e.parentNode:e),wn(function(){Wi(t,u,n,r)}),u}function Gi(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=Ci(o);a.call(u)}}Wi(t,o,e,s)}else o=og(n,t,e,s,r);return Ci(o)}jd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Sr(t.pendingLanes);n!==0&&(rl(t,n|1),Ae(t,se()),!(z&6)&&(ir=se()+500,Zt()))}break;case 13:wn(function(){var r=Nt(e,1);if(r!==null){var s=Se();ot(r,e,1,s)}}),$l(e,1)}};sl=function(e){if(e.tag===13){var t=Nt(e,134217728);if(t!==null){var n=Se();ot(t,e,134217728,n)}$l(e,134217728)}};Ed=function(e){if(e.tag===13){var t=Kt(e),n=Nt(e,t);if(n!==null){var r=Se();ot(n,e,t,r)}$l(e,t)}};Nd=function(){return q};Cd=function(e,t){var n=q;try{return q=e,t()}finally{q=n}};Zo=function(e,t,n){switch(t){case"input":if(Ho(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Di(r);if(!s)throw Error(j(90));id(r),Ho(r,s)}}}break;case"textarea":ad(e,n);break;case"select":t=n.value,t!=null&&Hn(e,!!n.multiple,t,!1)}};pd=Pl;md=wn;var ag={usingClientEntryPoint:!1,Events:[fs,Dn,Di,hd,fd,Pl]},wr={findFiberByHostInstance:un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lg={bundleType:wr.bundleType,version:wr.version,rendererPackageName:wr.rendererPackageName,rendererConfig:wr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yd(e),e===null?null:e.stateNode},findFiberByHostInstance:wr.findFiberByHostInstance||ig,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$s.isDisabled&&$s.supportsFiber)try{Ii=$s.inject(lg),dt=$s}catch{}}Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ag;Me.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dl(t))throw Error(j(200));return sg(e,t,null,n)};Me.createRoot=function(e,t){if(!Dl(e))throw Error(j(299));var n=!1,r="",s=Qh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ll(e,1,!1,null,null,n,!1,r,s),e[Et]=t.current,Kr(e.nodeType===8?e.parentNode:e),new Ul(t)};Me.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=yd(t),e=e===null?null:e.stateNode,e};Me.flushSync=function(e){return wn(e)};Me.hydrate=function(e,t,n){if(!Ki(t))throw Error(j(200));return Gi(null,e,t,!0,n)};Me.hydrateRoot=function(e,t,n){if(!Dl(e))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Qh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Jh(t,null,e,1,n??null,s,!1,i,o),e[Et]=t.current,Kr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Hi(t)};Me.render=function(e,t,n){if(!Ki(t))throw Error(j(200));return Gi(null,e,t,!1,n)};Me.unmountComponentAtNode=function(e){if(!Ki(e))throw Error(j(40));return e._reactRootContainer?(wn(function(){Gi(null,null,e,!1,function(){e._reactRootContainer=null,e[Et]=null})}),!0):!1};Me.unstable_batchedUpdates=Pl;Me.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ki(n))throw Error(j(200));if(e==null||e._reactInternals===void 0)throw Error(j(38));return Gi(e,t,n,!1,r)};Me.version="18.3.1-next-f1338f8080-20240426";function Yh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yh)}catch(e){console.error(e)}}Yh(),Yc.exports=Me;var ug=Yc.exports,tc=ug;zo.createRoot=tc.createRoot,zo.hydrateRoot=tc.hydrateRoot;const cg="modulepreload",dg=function(e){return"/LAB/"+e},nc={},hg=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=dg(i),i in nc)return;nc[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let d=s.length-1;d>=0;d--){const h=s[d];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":cg,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};var rc="popstate";function fg(e={}){function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return Oa("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ns(s)}return mg(t,n,null,e)}function ee(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ft(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pg(){return Math.random().toString(36).substring(2,10)}function sc(e,t){return{usr:e.state,key:e.key,idx:t}}function Oa(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ur(t):t,state:n,key:t&&t.key||r||pg()}}function ns({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ur(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function mg(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",u=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function h(){a="POP";let b=d(),m=b==null?null:b-c;c=b,u&&u({action:a,location:w.location,delta:m})}function f(b,m){a="PUSH";let p=Oa(w.location,b,m);n&&n(p,b),c=d()+1;let g=sc(p,c),_=w.createHref(p);try{o.pushState(g,"",_)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(_)}i&&u&&u({action:a,location:w.location,delta:1})}function v(b,m){a="REPLACE";let p=Oa(w.location,b,m);n&&n(p,b),c=d();let g=sc(p,c),_=w.createHref(p);o.replaceState(g,"",_),i&&u&&u({action:a,location:w.location,delta:0})}function y(b){return gg(b)}let w={get action(){return a},get location(){return e(s,o)},listen(b){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(rc,h),u=b,()=>{s.removeEventListener(rc,h),u=null}},createHref(b){return t(s,b)},createURL:y,encodeLocation(b){let m=y(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:v,go(b){return o.go(b)}};return w}function gg(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ee(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:ns(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Xh(e,t,n="/"){return vg(e,t,n,!1)}function vg(e,t,n,r){let s=typeof t=="string"?ur(t):t,i=Tt(s.pathname||"/",n);if(i==null)return null;let o=Zh(e);yg(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=Tg(i);a=Ng(o[u],c,r)}return a}function Zh(e,t=[],n=[],r="",s=!1){let i=(o,a,u=s,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&u)return;ee(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let h=St([r,d.relativePath]),f=n.concat(d);o.children&&o.children.length>0&&(ee(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Zh(o.children,t,f,h,u)),!(o.path==null&&!o.index)&&t.push({path:h,score:jg(h,o.index),routesMeta:f})};return e.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,a);else for(let c of ef(o.path))i(o,a,!0,c)}),t}function ef(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=ef(r.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function yg(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Eg(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var wg=/^:[\w-]+$/,xg=3,bg=2,_g=1,kg=10,Sg=-2,ic=e=>e==="*";function jg(e,t){let n=e.split("/"),r=n.length;return n.some(ic)&&(r+=Sg),t&&(r+=bg),n.filter(s=>!ic(s)).reduce((s,i)=>s+(wg.test(i)?xg:i===""?_g:kg),r)}function Eg(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Ng(e,t,n=!1){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Ti({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),f=u.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=Ti({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:St([i,h.pathname]),pathnameBase:Ag(St([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=St([i,h.pathnameBase]))}return o}function Ti(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Cg(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:h},f)=>{if(d==="*"){let y=a[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=a[f];return h&&!v?c[d]=void 0:c[d]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function Cg(e,t=!1,n=!0){ft(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Tg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ft(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Tt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var Rg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Pg(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?ur(e):e,i;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?i=oc(n.substring(1),"/"):i=oc(n,t)):i=t,{pathname:i,search:Ig(r),hash:Lg(s)}}function oc(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function To(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Og(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function tf(e){let t=Og(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function nf(e,t,n,r=!1){let s;typeof e=="string"?s=ur(e):(s={...e},ee(!s.pathname||!s.pathname.includes("?"),To("?","pathname","search",s)),ee(!s.pathname||!s.pathname.includes("#"),To("#","pathname","hash",s)),ee(!s.search||!s.search.includes("#"),To("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?t[h]:"/"}let u=Pg(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}var St=e=>e.join("/").replace(/\/\/+/g,"/"),Ag=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ig=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Lg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,$g=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Ug(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Dg(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var rf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function sf(e,t){let n=e;if(typeof n!="string"||!Rg.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,s=!1;if(rf)try{let i=new URL(window.location.href),o=n.startsWith("//")?new URL(i.protocol+n):new URL(n),a=Tt(o.pathname,t);o.origin===i.origin&&a!=null?n=a+o.search+o.hash:s=!0}catch{ft(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var of=["POST","PUT","PATCH","DELETE"];new Set(of);var zg=["GET",...of];new Set(zg);var cr=x.createContext(null);cr.displayName="DataRouter";var Ji=x.createContext(null);Ji.displayName="DataRouterState";var Mg=x.createContext(!1),af=x.createContext({isTransitioning:!1});af.displayName="ViewTransition";var Bg=x.createContext(new Map);Bg.displayName="Fetchers";var Fg=x.createContext(null);Fg.displayName="Await";var Ge=x.createContext(null);Ge.displayName="Navigation";var ms=x.createContext(null);ms.displayName="Location";var pt=x.createContext({outlet:null,matches:[],isDataRoute:!1});pt.displayName="Route";var zl=x.createContext(null);zl.displayName="RouteError";var lf="REACT_ROUTER_ERROR",qg="REDIRECT",Vg="ROUTE_ERROR_RESPONSE";function Wg(e){if(e.startsWith(`${lf}:${qg}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Hg(e){if(e.startsWith(`${lf}:${Vg}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new $g(t.status,t.statusText,t.data)}catch{}}function Kg(e,{relative:t}={}){ee(gs(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(Ge),{hash:s,pathname:i,search:o}=vs(e,{relative:t}),a=i;return n!=="/"&&(a=i==="/"?n:St([n,i])),r.createHref({pathname:a,search:o,hash:s})}function gs(){return x.useContext(ms)!=null}function en(){return ee(gs(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(ms).location}var uf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cf(e){x.useContext(Ge).static||x.useLayoutEffect(e)}function Ml(){let{isDataRoute:e}=x.useContext(pt);return e?ov():Gg()}function Gg(){ee(gs(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(cr),{basename:t,navigator:n}=x.useContext(Ge),{matches:r}=x.useContext(pt),{pathname:s}=en(),i=JSON.stringify(tf(r)),o=x.useRef(!1);return cf(()=>{o.current=!0}),x.useCallback((u,c={})=>{if(ft(o.current,uf),!o.current)return;if(typeof u=="number"){n.go(u);return}let d=nf(u,JSON.parse(i),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:St([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,i,s,e])}x.createContext(null);function df(){let{matches:e}=x.useContext(pt),t=e[e.length-1];return t?t.params:{}}function vs(e,{relative:t}={}){let{matches:n}=x.useContext(pt),{pathname:r}=en(),s=JSON.stringify(tf(n));return x.useMemo(()=>nf(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function Jg(e,t){return hf(e,t)}function hf(e,t,n,r,s){var p;ee(gs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(Ge),{matches:o}=x.useContext(pt),a=o[o.length-1],u=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",h=a&&a.route;{let g=h&&h.path||"";pf(c,!h||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let f=en(),v;if(t){let g=typeof t=="string"?ur(t):t;ee(d==="/"||((p=g.pathname)==null?void 0:p.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${g.pathname}" was given in the \`location\` prop.`),v=g}else v=f;let y=v.pathname||"/",w=y;if(d!=="/"){let g=d.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(g.length).join("/")}let b=Xh(e,{pathname:w});ft(h||b!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ft(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=ev(b&&b.map(g=>Object.assign({},g,{params:Object.assign({},u,g.params),pathname:St([d,i.encodeLocation?i.encodeLocation(g.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?d:St([d,i.encodeLocation?i.encodeLocation(g.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathnameBase])})),o,n,r,s);return t&&m?x.createElement(ms.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},m):m}function Qg(){let e=iv(),t=Ug(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:i},"ErrorBoundary")," or"," ",x.createElement("code",{style:i},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:s},n):null,o)}var Yg=x.createElement(Qg,null),ff=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=Hg(e.digest);n&&(e=n)}let t=e!==void 0?x.createElement(pt.Provider,{value:this.props.routeContext},x.createElement(zl.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?x.createElement(Xg,{error:e},t):t}};ff.contextType=Mg;var Ro=new WeakMap;function Xg({children:e,error:t}){let{basename:n}=x.useContext(Ge);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=Wg(t.digest);if(r){let s=Ro.get(t);if(s)throw s;let i=sf(r.location,n);if(rf&&!Ro.get(t))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw Ro.set(t,o),o}return x.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function Zg({routeContext:e,match:t,children:n}){let r=x.useContext(cr);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(pt.Provider,{value:e},n)}function ev(e,t=[],n=null,r=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=n==null?void 0:n.errors;if(o!=null){let d=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);ee(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let a=!1,u=-1;if(n)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:v}=n,y=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||y){a=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}let c=n&&r?(d,h)=>{var f,v;r(d,{location:n.location,params:((v=(f=n.matches)==null?void 0:f[0])==null?void 0:v.params)??{},unstable_pattern:Dg(n.matches),errorInfo:h})}:void 0;return i.reduceRight((d,h,f)=>{let v,y=!1,w=null,b=null;n&&(v=o&&h.route.id?o[h.route.id]:void 0,w=h.route.errorElement||Yg,a&&(u<0&&f===0?(pf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,b=null):u===f&&(y=!0,b=h.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,f+1)),p=()=>{let g;return v?g=w:y?g=b:h.route.Component?g=x.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=d,x.createElement(Zg,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:g})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?x.createElement(ff,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:c}):p()},null)}function Bl(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tv(e){let t=x.useContext(cr);return ee(t,Bl(e)),t}function nv(e){let t=x.useContext(Ji);return ee(t,Bl(e)),t}function rv(e){let t=x.useContext(pt);return ee(t,Bl(e)),t}function Fl(e){let t=rv(e),n=t.matches[t.matches.length-1];return ee(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function sv(){return Fl("useRouteId")}function iv(){var r;let e=x.useContext(zl),t=nv("useRouteError"),n=Fl("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function ov(){let{router:e}=tv("useNavigate"),t=Fl("useNavigate"),n=x.useRef(!1);return cf(()=>{n.current=!0}),x.useCallback(async(s,i={})=>{ft(n.current,uf),n.current&&(typeof s=="number"?await e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var ac={};function pf(e,t,n){!t&&!ac[e]&&(ac[e]=!0,ft(!1,n))}x.memo(av);function av({routes:e,future:t,state:n,onError:r}){return hf(e,void 0,n,r,t)}function vt(e){ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lv({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:i=!1,unstable_useTransitions:o}){ee(!gs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:a,navigator:s,static:i,unstable_useTransitions:o,future:{}}),[a,s,i,o]);typeof n=="string"&&(n=ur(n));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:v="default"}=n,y=x.useMemo(()=>{let w=Tt(c,a);return w==null?null:{location:{pathname:w,search:d,hash:h,state:f,key:v},navigationType:r}},[a,c,d,h,f,v,r]);return ft(y!=null,`<Router basename="${a}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:x.createElement(Ge.Provider,{value:u},x.createElement(ms.Provider,{children:t,value:y}))}function lc({children:e,location:t}){return Jg(Aa(e),t)}function Aa(e,t=[]){let n=[];return x.Children.forEach(e,(r,s)=>{if(!x.isValidElement(r))return;let i=[...t,s];if(r.type===x.Fragment){n.push.apply(n,Aa(r.props.children,i));return}ee(r.type===vt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ee(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Aa(r.props.children,i)),n.push(o)}),n}var ri="get",si="application/x-www-form-urlencoded";function Qi(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function uv(e){return Qi(e)&&e.tagName.toLowerCase()==="button"}function cv(e){return Qi(e)&&e.tagName.toLowerCase()==="form"}function dv(e){return Qi(e)&&e.tagName.toLowerCase()==="input"}function hv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function fv(e,t){return e.button===0&&(!t||t==="_self")&&!hv(e)}var Us=null;function pv(){if(Us===null)try{new FormData(document.createElement("form"),0),Us=!1}catch{Us=!0}return Us}var mv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Po(e){return e!=null&&!mv.has(e)?(ft(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${si}"`),null):e}function gv(e,t){let n,r,s,i,o;if(cv(e)){let a=e.getAttribute("action");r=a?Tt(a,t):null,n=e.getAttribute("method")||ri,s=Po(e.getAttribute("enctype"))||si,i=new FormData(e)}else if(uv(e)||dv(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||a.getAttribute("action");if(r=u?Tt(u,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||ri,s=Po(e.getAttribute("formenctype"))||Po(a.getAttribute("enctype"))||si,i=new FormData(a,e),!pv()){let{name:c,type:d,value:h}=e;if(d==="image"){let f=c?`${c}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else c&&i.append(c,h)}}else{if(Qi(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ri,r=null,s=si,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ql(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vv(e,t,n,r){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${r}`:s.pathname=`${s.pathname}.${r}`:s.pathname==="/"?s.pathname=`_root.${r}`:t&&Tt(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function yv(e,t){if(e.id in t)return t[e.id];try{let n=await hg(()=>import(e.module),[]);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wv(e){return e!=null&&typeof e.page=="string"}function xv(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function bv(e,t,n){let r=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await yv(i,n);return o.links?o.links():[]}return[]}));return jv(r.flat(1).filter(xv).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function uc(e,t,n,r,s,i){let o=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,a=(u,c)=>{var d;return n[c].pathname!==u.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return i==="assets"?t.filter((u,c)=>o(u,c)||a(u,c)):i==="data"?t.filter((u,c)=>{var h;let d=r.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(o(u,c)||a(u,c))return!0;if(u.route.shouldRevalidate){let f=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function _v(e,t,{includeHydrateFallback:n}={}){return kv(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function kv(e){return[...new Set(e)]}function Sv(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function jv(e,t){let n=new Set,r=new Set(t);return e.reduce((s,i)=>{if(t&&!wv(i)&&i.as==="script"&&i.href&&r.has(i.href))return s;let a=JSON.stringify(Sv(i));return n.has(a)||(n.add(a),s.push({key:a,link:i})),s},[])}function mf(){let e=x.useContext(cr);return ql(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ev(){let e=x.useContext(Ji);return ql(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Vl=x.createContext(void 0);Vl.displayName="FrameworkContext";function gf(){let e=x.useContext(Vl);return ql(e,"You must render this element inside a <HydratedRouter> element"),e}function Nv(e,t){let n=x.useContext(Vl),[r,s]=x.useState(!1),[i,o]=x.useState(!1),{onFocus:a,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=t,f=x.useRef(null);x.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=m=>{m.forEach(p=>{o(p.isIntersecting)})},b=new IntersectionObserver(w,{threshold:.5});return f.current&&b.observe(f.current),()=>{b.disconnect()}}},[e]),x.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let v=()=>{s(!0)},y=()=>{s(!1),o(!1)};return n?e!=="intent"?[i,f,{}]:[i,f,{onFocus:xr(a,v),onBlur:xr(u,y),onMouseEnter:xr(c,v),onMouseLeave:xr(d,y),onTouchStart:xr(h,v)}]:[!1,f,{}]}function xr(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Cv({page:e,...t}){let{router:n}=mf(),r=x.useMemo(()=>Xh(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?x.createElement(Rv,{page:e,matches:r,...t}):null}function Tv(e){let{manifest:t,routeModules:n}=gf(),[r,s]=x.useState([]);return x.useEffect(()=>{let i=!1;return bv(e,t,n).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,n]),r}function Rv({page:e,matches:t,...n}){let r=en(),{future:s,manifest:i,routeModules:o}=gf(),{basename:a}=mf(),{loaderData:u,matches:c}=Ev(),d=x.useMemo(()=>uc(e,t,c,i,r,"data"),[e,t,c,i,r]),h=x.useMemo(()=>uc(e,t,c,i,r,"assets"),[e,t,c,i,r]),f=x.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,b=!1;if(t.forEach(p=>{var _;let g=i.routes[p.route.id];!g||!g.hasLoader||(!d.some(k=>k.route.id===p.route.id)&&p.route.id in u&&((_=o[p.route.id])!=null&&_.shouldRevalidate)||g.hasClientLoader?b=!0:w.add(p.route.id))}),w.size===0)return[];let m=vv(e,a,s.unstable_trailingSlashAwareDataRequests,"data");return b&&w.size>0&&m.searchParams.set("_routes",t.filter(p=>w.has(p.route.id)).map(p=>p.route.id).join(",")),[m.pathname+m.search]},[a,s.unstable_trailingSlashAwareDataRequests,u,r,i,d,t,e,o]),v=x.useMemo(()=>_v(h,i),[h,i]),y=Tv(h);return x.createElement(x.Fragment,null,f.map(w=>x.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>x.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),y.map(({key:w,link:b})=>x.createElement("link",{key:w,nonce:n.nonce,...b,crossOrigin:b.crossOrigin??n.crossOrigin})))}function Pv(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Ov=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ov&&(window.__reactRouterVersion="7.13.0")}catch{}function Av({basename:e,children:t,unstable_useTransitions:n,window:r}){let s=x.useRef();s.current==null&&(s.current=fg({window:r,v5Compat:!0}));let i=s.current,[o,a]=x.useState({action:i.action,location:i.location}),u=x.useCallback(c=>{n===!1?a(c):x.startTransition(()=>a(c))},[n]);return x.useLayoutEffect(()=>i.listen(u),[i,u]),x.createElement(lv,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:n})}var vf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=x.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:u,to:c,preventScrollReset:d,viewTransition:h,unstable_defaultShouldRevalidate:f,...v},y){let{basename:w,unstable_useTransitions:b}=x.useContext(Ge),m=typeof c=="string"&&vf.test(c),p=sf(c,w);c=p.to;let g=Kg(c,{relative:s}),[_,k,S]=Nv(r,v),E=Uv(c,{replace:o,state:a,target:u,preventScrollReset:d,relative:s,viewTransition:h,unstable_defaultShouldRevalidate:f,unstable_useTransitions:b});function C(A){t&&t(A),A.defaultPrevented||E(A)}let U=x.createElement("a",{...v,...S,href:p.absoluteURL||g,onClick:p.isExternal||i?t:C,ref:Pv(y,k),target:u,"data-discover":!m&&n==="render"?"true":void 0});return _&&!m?x.createElement(x.Fragment,null,U,x.createElement(Cv,{page:g})):U});Te.displayName="Link";var Iv=x.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:u,...c},d){let h=vs(o,{relative:c.relative}),f=en(),v=x.useContext(Ji),{navigator:y,basename:w}=x.useContext(Ge),b=v!=null&&Fv(h)&&a===!0,m=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,p=f.pathname,g=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(p=p.toLowerCase(),g=g?g.toLowerCase():null,m=m.toLowerCase()),g&&w&&(g=Tt(g,w)||g);const _=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let k=p===m||!s&&p.startsWith(m)&&p.charAt(_)==="/",S=g!=null&&(g===m||!s&&g.startsWith(m)&&g.charAt(m.length)==="/"),E={isActive:k,isPending:S,isTransitioning:b},C=k?t:void 0,U;typeof r=="function"?U=r(E):U=[r,k?"active":null,S?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let A=typeof i=="function"?i(E):i;return x.createElement(Te,{...c,"aria-current":C,className:U,ref:d,style:A,to:o,viewTransition:a},typeof u=="function"?u(E):u)});Iv.displayName="NavLink";var Lv=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:i,method:o=ri,action:a,onSubmit:u,relative:c,preventScrollReset:d,viewTransition:h,unstable_defaultShouldRevalidate:f,...v},y)=>{let{unstable_useTransitions:w}=x.useContext(Ge),b=Mv(),m=Bv(a,{relative:c}),p=o.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&vf.test(a),_=k=>{if(u&&u(k),k.defaultPrevented)return;k.preventDefault();let S=k.nativeEvent.submitter,E=(S==null?void 0:S.getAttribute("formmethod"))||o,C=()=>b(S||k.currentTarget,{fetcherKey:t,method:E,navigate:n,replace:s,state:i,relative:c,preventScrollReset:d,viewTransition:h,unstable_defaultShouldRevalidate:f});w&&n!==!1?x.startTransition(()=>C()):C()};return x.createElement("form",{ref:y,method:p,action:m,onSubmit:r?u:_,...v,"data-discover":!g&&e==="render"?"true":void 0})});Lv.displayName="Form";function $v(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yf(e){let t=x.useContext(cr);return ee(t,$v(e)),t}function Uv(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:a,unstable_useTransitions:u}={}){let c=Ml(),d=en(),h=vs(e,{relative:i});return x.useCallback(f=>{if(fv(f,t)){f.preventDefault();let v=n!==void 0?n:ns(d)===ns(h),y=()=>c(e,{replace:v,state:r,preventScrollReset:s,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:a});u?x.startTransition(()=>y()):y()}},[d,c,h,n,r,t,e,s,i,o,a,u])}var Dv=0,zv=()=>`__${String(++Dv)}__`;function Mv(){let{router:e}=yf("useSubmit"),{basename:t}=x.useContext(Ge),n=sv(),r=e.fetch,s=e.navigate;return x.useCallback(async(i,o={})=>{let{action:a,method:u,encType:c,formData:d,body:h}=gv(i,t);if(o.navigate===!1){let f=o.fetcherKey||zv();await r(f,n,o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:d,body:h,formMethod:o.method||u,formEncType:o.encType||c,flushSync:o.flushSync})}else await s(o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:d,body:h,formMethod:o.method||u,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,s,t,n])}function Bv(e,{relative:t}={}){let{basename:n}=x.useContext(Ge),r=x.useContext(pt);ee(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...vs(e||".",{relative:t})},o=en();if(e==null){i.search=o.search;let a=new URLSearchParams(i.search),u=a.getAll("index");if(u.some(d=>d==="")){a.delete("index"),u.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:St([n,i.pathname])),ns(i)}function Fv(e,{relative:t}={}){let n=x.useContext(af);ee(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=yf("useViewTransitionState"),s=vs(e,{relative:t});if(!n.isTransitioning)return!1;let i=Tt(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Tt(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ti(s.pathname,o)!=null||Ti(s.pathname,i)!=null}function Yi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function qv(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((r=r.apply(e,t||[])).next())})}const Vv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Wl extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Wv extends Wl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class cc extends Wl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class dc extends Wl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ia;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ia||(Ia={}));class Hv{constructor(t,{headers:n={},customFetch:r,region:s=Ia.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Vv(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return qv(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:u,body:c,signal:d,timeout:h}=r;let f={},{region:v}=r;v||(v=this.region);const y=new URL(`${this.url}/${n}`);v&&v!=="any"&&(f["x-region"]=v,y.searchParams.set("forceFunctionRegion",v));let w;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",w=c):typeof c=="string"?(f["Content-Type"]="text/plain",w=c):typeof FormData<"u"&&c instanceof FormData?w=c:(f["Content-Type"]="application/json",w=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?w=JSON.stringify(c):w=c;let b=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(b=o.signal,d.addEventListener("abort",()=>o.abort())):b=o.signal);const m=yield this.fetch(y.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:w,signal:b}).catch(k=>{throw new Wv(k)}),p=m.headers.get("x-relay-error");if(p&&p==="true")throw new cc(m);if(!m.ok)throw new dc(m);let g=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return g==="application/json"?_=yield m.json():g==="application/octet-stream"||g==="application/pdf"?_=yield m.blob():g==="text/event-stream"?_=m:g==="multipart/form-data"?_=yield m.formData():_=yield m.text(),{data:_,error:null,response:m}}catch(a){return{data:null,error:a,response:a instanceof dc||a instanceof cc?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var Kv=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Gv=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,u=null,c=i.status,d=i.statusText;if(i.ok){var h,f;if(n.method!=="HEAD"){var v;const m=await i.text();m===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((v=n.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?a=m:a=JSON.parse(m))}const w=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),b=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");w&&b&&b.length>1&&(u=parseInt(b[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,u=null,c=406,d="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var y;const w=await i.text();try{o=JSON.parse(w),Array.isArray(o)&&i.status===404&&(a=[],o=null,c=200,d="OK")}catch{i.status===404&&w===""?(c=204,d="No Content"):o={message:w}}if(o&&n.isMaybeSingle&&(!(o==null||(y=o.details)===null||y===void 0)&&y.includes("0 rows"))&&(o=null,c=200,d="OK"),o&&n.shouldThrowOnError)throw new Kv(o)}return{error:o,data:a,count:u,status:c,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="",u="",c="";const d=i==null?void 0:i.cause;if(d){var h,f,v,y;const m=(h=d==null?void 0:d.message)!==null&&h!==void 0?h:"",p=(f=d==null?void 0:d.code)!==null&&f!==void 0?f:"";a=`${(v=i==null?void 0:i.name)!==null&&v!==void 0?v:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(y=d==null?void 0:d.name)!==null&&y!==void 0?y:"Error"}: ${m}`,p&&(a+=` (${p})`),d!=null&&d.stack&&(a+=`
${d.stack}`)}else{var w;a=(w=i==null?void 0:i.stack)!==null&&w!==void 0?w:""}const b=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(c="",u="Request was aborted (timeout or manual cancellation)",b>this.urlLengthLimit&&(u+=`. Note: Your request URL is ${b} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((d==null?void 0:d.name)==="HeadersOverflowError"||(d==null?void 0:d.code)==="UND_ERR_HEADERS_OVERFLOW")&&(c="",u="HTTP headers exceeded server limits (typically 16KB)",b>this.urlLengthLimit&&(u+=`. Your request URL is ${b} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:u,code:c},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},Jv=class extends Gv{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${u}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const hc=new RegExp("[,()]");var Rn=class extends Jv{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&hc.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&hc.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},Qv=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join(""),{url:a,headers:u}=this.cloneRequestState();return a.searchParams.set("select",o),r&&u.append("Prefer",`count=${r}`),new Rn({method:s,url:a,headers:u,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(a.length>0){const u=[...new Set(a)].map(c=>`"${c}"`);i.searchParams.set("columns",u.join(","))}}return new Rn({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const o="POST",{url:a,headers:u}=this.cloneRequestState();if(u.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),r&&u.append("Prefer",`count=${r}`),s||u.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);a.searchParams.set("columns",d.join(","))}}return new Rn({method:o,url:a,headers:u,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Rn({method:r,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Rn({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function rs(e){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(e)}function Yv(e,t){if(rs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(rs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xv(e){var t=Yv(e,"string");return rs(t)=="symbol"?t:t+""}function Zv(e,t,n){return(t=Xv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ds(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fc(Object(n),!0).forEach(function(r){Zv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var e0=class wf{constructor(t,{headers:n={},schema:r,fetch:s,timeout:i,urlLengthLimit:o=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=o;const a=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(u,c)=>{const d=new AbortController,h=setTimeout(()=>d.abort(),i),f=c==null?void 0:c.signal;if(f){if(f.aborted)return clearTimeout(h),a(u,c);const v=()=>{clearTimeout(h),d.abort()};return f.addEventListener("abort",v,{once:!0}),a(u,Ds(Ds({},c),{},{signal:d.signal})).finally(()=>{clearTimeout(h),f.removeEventListener("abort",v)})}return a(u,Ds(Ds({},c),{},{signal:d.signal})).finally(()=>clearTimeout(h))}:this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Qv(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new wf(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const u=new URL(`${this.url}/rpc/${t}`);let c;const d=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(d)),h=r&&Object.values(n).some(d);h?(a="POST",c=n):r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([v,y])=>y!==void 0).map(([v,y])=>[v,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([v,y])=>{u.searchParams.append(v,y)})):(a="POST",c=n);const f=new Headers(this.headers);return h?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new Rn({method:a,url:u,headers:f,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class t0{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const n0="2.95.1",r0=`realtime-js/${n0}`,s0="1.0.0",xf="2.0.0",pc=xf,La=1e4,i0=1e3,o0=100;var Lt;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Lt||(Lt={}));var le;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(le||(le={}));var rt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(rt||(rt={}));var $a;(function(e){e.websocket="websocket"})($a||($a={}));var an;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(an||(an={}));class a0{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var s,i;const o=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",u=(i=t.join_ref)!==null&&i!==void 0?i:"",c=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+a.length+o.length+c.length+h.length,v=new ArrayBuffer(this.HEADER_LENGTH+f);let y=new DataView(v),w=0;y.setUint8(w++,this.KINDS.userBroadcastPush),y.setUint8(w++,u.length),y.setUint8(w++,a.length),y.setUint8(w++,o.length),y.setUint8(w++,c.length),y.setUint8(w++,h.length),y.setUint8(w++,n),Array.from(u,m=>y.setUint8(w++,m.charCodeAt(0))),Array.from(a,m=>y.setUint8(w++,m.charCodeAt(0))),Array.from(o,m=>y.setUint8(w++,m.charCodeAt(0))),Array.from(c,m=>y.setUint8(w++,m.charCodeAt(0))),Array.from(h,m=>y.setUint8(w++,m.charCodeAt(0)));var b=new Uint8Array(v.byteLength+r.byteLength);return b.set(new Uint8Array(v),0),b.set(new Uint8Array(r),v.byteLength),b.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,o,a,u]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let u=this.HEADER_LENGTH+4;const c=r.decode(t.slice(u,u+s));u=u+s;const d=r.decode(t.slice(u,u+i));u=u+i;const h=r.decode(t.slice(u,u+o));u=u+o;const f=t.slice(u,t.byteLength),v=a===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,y={type:this.BROADCAST_EVENT,event:d,payload:v};return o>0&&(y.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class bf{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var W;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(W||(W={}));const mc=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=l0(o,e,t,s),i),{}):{}},l0=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?_f(i,o):Ua(o)},_f=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return h0(t,n)}switch(e){case W.bool:return u0(t);case W.float4:case W.float8:case W.int2:case W.int4:case W.int8:case W.numeric:case W.oid:return c0(t);case W.json:case W.jsonb:return d0(t);case W.timestamp:return f0(t);case W.abstime:case W.date:case W.daterange:case W.int4range:case W.int8range:case W.money:case W.reltime:case W.text:case W.time:case W.timestamptz:case W.timetz:case W.tsrange:case W.tstzrange:return Ua(t);default:return Ua(t)}},Ua=e=>e,u0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},c0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},d0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},h0=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>_f(t,a))}return e},f0=e=>typeof e=="string"?e.replace(" ","T"):e,kf=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Oo{constructor(t,n,r={},s=La){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var gc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(gc||(gc={}));class $r{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$r.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=$r.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=$r.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},u={};return this.map(i,(c,d)=>{o[c]||(u[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(b=>b.presence_ref),v=h.map(b=>b.presence_ref),y=d.filter(b=>v.indexOf(b.presence_ref)<0),w=h.filter(b=>f.indexOf(b.presence_ref)<0);y.length>0&&(a[c]=y),w.length>0&&(u[c]=w)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:u},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,u)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(u),d.length>0){const h=t[a].map(v=>v.presence_ref),f=d.filter(v=>h.indexOf(v.presence_ref)<0);t[a].unshift(...f)}r(a,d,u)}),this.map(o,(a,u)=>{let c=t[a];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=c,s(a,c,u),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(vc||(vc={}));var Ur;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ur||(Ur={}));var wt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(wt||(wt={}));class Wn{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Oo(this,rt.join,this.params,this.timeout),this.rejoinTimer=new bf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=le.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new $r(this),this.broadcastEndpointURL=kf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==le.closed){const{config:{broadcast:o,presence:a,private:u}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Ur.PRESENCE]&&this.bindings[Ur.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(wt.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(wt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){t==null||t(wt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,b=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,m=[];for(let p=0;p<b;p++){const g=w[p],{filter:{event:_,schema:k,table:S,filter:E}}=g,C=v&&v[p];if(C&&C.event===_&&Wn.isFilterValueEqual(C.schema,k)&&Wn.isFilterValueEqual(C.table,S)&&Wn.isFilterValueEqual(C.filter,E))m.push(Object.assign(Object.assign({},g),{id:C.id}));else{this.unsubscribe(),this.state=le.errored,t==null||t(wt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(wt.SUBSCRIBED);return}}).receive("error",v=>{this.state=le.errored,t==null||t(wt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(wt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===le.joined&&t===Ur.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let u=a.statusText;try{const c=await a.json();u=c.error||c.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,u;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=le.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Oo(this,rt.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=le.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Oo(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>o0){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:u,leave:c,join:d}=rt;if(r&&[a,u,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,w,b;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(w=v.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(v=>v.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var y,w,b,m,p,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const _=v.id,k=(y=v.filter)===null||y===void 0?void 0:y.event;return _&&((w=n.ids)===null||w===void 0?void 0:w.includes(_))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(p=(m=v==null?void 0:v.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:w,table:b,commit_timestamp:m,type:p,errors:g}=y;f=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:m,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(y))}v.callback(f,r)})}_isClosed(){return this.state===le.closed}_isJoined(){return this.state===le.joined}_isJoining(){return this.state===le.joining}_isLeaving(){return this.state===le.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Wn.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(rt.close,{},t)}_onError(t){this._on(rt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=le.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=mc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=mc(t.columns,t.old_record)),n}}const Ao=()=>{},zs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},p0=[1e3,2e3,5e3,1e4],m0=1e4,g0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class v0{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=La,this.transport=null,this.heartbeatIntervalMs=zs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ao,this.ref=0,this.reconnectTimer=null,this.vsn=pc,this.logger=Ao,this.conn=null,this.sendBuffer=[],this.serializer=new a0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${$a.websocket}`,this.httpEndpoint=kf(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=t0.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return n==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Lt.connecting:return an.Connecting;case Lt.open:return an.Open;case Lt.closing:return an.Closing;default:return an.Closed}}isConnected(){return this.connectionState()===an.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Wn(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(i0,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},zs.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",c)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",u=i.status||"";this.log("receive",`${u} ${r} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Lt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Lt.open||this.conn.readyState===Lt.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(rt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([g0],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:r0};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(rt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new bf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},zs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,a,u,c,d,h,f,v;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:La,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:zs.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Ao,this.vsn=(u=t==null?void 0:t.vsn)!==null&&u!==void 0?u:pc,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:y=>p0[y-1]||m0,this.vsn){case s0:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(y,w)=>w(JSON.stringify(y)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(y,w)=>w(JSON.parse(y));break;case xf:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ss=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function y0(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function w0(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function x0(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:o}){const a=y0(e.baseUrl,r,s),u=await w0(e.auth),c=await t(a,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...u,...o},body:i?JSON.stringify(i):void 0}),d=await c.text(),h=(c.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!c.ok){const v=h?f:void 0,y=v==null?void 0:v.error;throw new ss((y==null?void 0:y.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:v})}return{status:c.status,headers:c.headers,data:f}}}}function Ms(e){return e.join("")}var b0=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Ms(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ms(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ms(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ms(e.namespace)}`}),!0}catch(t){if(t instanceof ss&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof ss&&n.status===409)return;throw n}}};function Sn(e){return e.join("")}var _0=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Sn(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Sn(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Sn(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Sn(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Sn(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Sn(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof ss&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof ss&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},k0=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=x0({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new b0(this.client,t),this.tableOps=new _0(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Xi=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Zi(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Bs=class extends Xi{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Sf=class extends Xi{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const S0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),j0=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Da=e=>{if(Array.isArray(e))return e.map(n=>Da(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Da(r)}),t},E0=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function is(e){"@babel/helpers - typeof";return is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},is(e)}function N0(e,t){if(is(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(is(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C0(e){var t=N0(e,"string");return is(t)=="symbol"?t:t+""}function T0(e,t,n){return(t=C0(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yc(Object(n),!0).forEach(function(r){T0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const wc=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},R0=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new Bs(wc(o),i,a,r))}).catch(()=>{if(r==="vectors"){const o=i+"";t(new Bs(s.statusText||`HTTP ${i} error`,i,o,r))}else{const o=i+"";t(new Bs(s.statusText||`HTTP ${i} error`,i,o,r))}});else{const o=i+"";t(new Bs(s.statusText||`HTTP ${i} error`,i,o,r))}}else t(new Sf(wc(e),e,r))},P0=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?$($({},s),n):(j0(r)?(s.headers=$({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),$($({},s),n))};async function br(e,t,n,r,s,i,o){return new Promise((a,u)=>{e(n,P0(t,r,s,i)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;if(o==="vectors"){const d=c.headers.get("content-type");if(c.headers.get("content-length")==="0"||c.status===204)return{};if(!d||!d.includes("application/json"))return{}}return c.json()}).then(c=>a(c)).catch(c=>R0(c,u,r,o))})}function jf(e="storage"){return{get:async(t,n,r,s)=>br(t,"GET",n,r,s,void 0,e),post:async(t,n,r,s,i)=>br(t,"POST",n,s,i,r,e),put:async(t,n,r,s,i)=>br(t,"PUT",n,s,i,r,e),head:async(t,n,r,s)=>br(t,"HEAD",n,$($({},r),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,n,r,s,i)=>br(t,"DELETE",n,s,i,r,e)}}const O0=jf("storage"),{get:os,post:tt,put:za,head:A0,remove:Hl}=O0,$e=jf("vectors");var dr=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=S0(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Zi(n))return{data:null,error:n};throw n}}},I0=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Zi(t))return{data:null,error:t};throw t}}};let Ef;Ef=Symbol.toStringTag;var L0=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Ef]="BlobDownloadBuilder",this.promise=null}asStream(){return new I0(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Zi(t))return{data:null,error:t};throw t}}};const $0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var U0=class extends dr{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var s=this;return s.handleOperation(async()=>{let i;const o=$($({},xc),r);let a=$($({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",s.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),u&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(u))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,u&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(u))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(a=$($({},a),r.headers));const c=s._removeEmptyFolders(t),d=s._getFinalPath(c),h=await(e=="PUT"?za:tt)(s.fetch,`${s.url}/object/${d}`,i,$({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:c,id:h.Id,fullPath:h.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);return a.searchParams.set("token",t),s.handleOperation(async()=>{let u;const c=$({upsert:xc.upsert},r),d=$($({},s.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{path:i,fullPath:(await za(s.fetch,a.toString(),u,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const s=$({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await tt(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(n.url+i.url),a=o.searchParams.get("token");if(!a)throw new Xi("No token returned by API");return{signedUrl:o.toString(),path:e,token:a}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await tt(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await tt(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(e),i=await tt(r.fetch,`${r.url}/object/sign/${s}`,$({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const s=await tt(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(o=>$($({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${i}`):null}))})}download(e,t,n){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=s?`?${s}`:"",o=this._getFinalPath(e),a=()=>os(this.fetch,`${this.url}/${r}/${o}${i}`,{headers:this.headers,noResolveJson:!0},n);return new L0(a,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>Da(await os(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await A0(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Zi(r)&&r instanceof Sf){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Hl(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const s=$($($({},$0),t),{},{prefix:e||""});return await tt(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=$({},e);return await tt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const D0="2.95.1",ys={"X-Client-Info":`storage-js/${D0}`};var z0=class extends dr{constructor(e,t={},n,r){const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),o=$($({},ys),t);super(i,o,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await os(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await os(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await tt(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await za(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await tt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Hl(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},M0=class extends dr{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=$($({},ys),t);super(r,s,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await tt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await os(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Hl(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!E0(e))throw new Xi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new k0({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(u){if(r)throw u;return{data:null,error:u}}}}})}},B0=class extends dr{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=$($({},ys),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await $e.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await $e.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},F0=class extends dr{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=$($({},ys),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},q0=class extends dr{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=$($({},ys),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},V0=class extends q0{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new W0(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},W0=class extends B0{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,$($({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,$($({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new H0(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},H0=class extends F0{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,$($({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,$($({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,$($({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,$($({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,$($({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},K0=class extends z0{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new U0(this.url,this.headers,e,this.fetch)}get vectors(){return new V0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new M0(this.url+"/iceberg",this.headers,this.fetch)}};const Nf="2.95.1",Pn=30*1e3,Ma=3,Io=Ma*Pn,G0="http://localhost:9999",J0="supabase.auth.token",Q0={"X-Client-Info":`gotrue-js/${Nf}`},Ba="X-Supabase-Api-Version",Cf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Y0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,X0=10*60*1e3;class as extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function O(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Z0 extends as{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function ey(e){return O(e)&&e.name==="AuthApiError"}class ln extends as{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Pt extends as{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Ie extends Pt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Lo(e){return O(e)&&e.name==="AuthSessionMissingError"}class jn extends Pt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fs extends Pt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class qs extends Pt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ty(e){return O(e)&&e.name==="AuthImplicitGrantRedirectError"}class bc extends Pt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ny extends Pt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Fa extends Pt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function $o(e){return O(e)&&e.name==="AuthRetryableFetchError"}class _c extends Pt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class qa extends Pt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ri="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kc=` 	
\r=`.split(""),ry=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<kc.length;t+=1)e[kc[t].charCodeAt(0)]=-2;for(let t=0;t<Ri.length;t+=1)e[Ri[t].charCodeAt(0)]=t;return e})();function Sc(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ri[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ri[r]),t.queuedBits-=6}}function Tf(e,t,n){const r=ry[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function jc(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{oy(o,r,n)};for(let o=0;o<e.length;o+=1)Tf(e.charCodeAt(o),s,i);return t.join("")}function sy(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function iy(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}sy(r,t)}}function oy(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Xn(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Tf(e.charCodeAt(s),n,r);return new Uint8Array(t)}function ay(e){const t=[];return iy(e,n=>t.push(n)),new Uint8Array(t)}function hn(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Sc(s,n,r)),Sc(null,n,r),t.join("")}function ly(e){return Math.round(Date.now()/1e3)+e}function uy(){return Symbol("auth-callback")}const me=()=>typeof window<"u"&&typeof document<"u",tn={tested:!1,writable:!1},Rf=()=>{if(!me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tn.tested)return tn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),tn.tested=!0,tn.writable=!0}catch{tn.tested=!0,tn.writable=!1}return tn.writable};function cy(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Pf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),dy=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",On=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},nn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},pe=async(e,t)=>{await e.removeItem(t)};class eo{constructor(){this.promise=new eo.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}eo.promiseConstructor=Promise;function Vs(e){const t=e.split(".");if(t.length!==3)throw new qa("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Y0.test(t[r]))throw new qa("JWT not in base64url format");return{header:JSON.parse(jc(t[0])),payload:JSON.parse(jc(t[1])),signature:Xn(t[2]),raw:{header:t[0],payload:t[1]}}}async function hy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function fy(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function py(e){return("0"+e.toString(16)).substr(-2)}function my(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,py).join("")}async function gy(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function vy(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await gy(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function En(e,t,n=!1){const r=my();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await On(e,`${t}-code-verifier`,s);const i=await vy(r);return[i,r===i?"plain":"s256"]}const yy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wy(e){const t=e.headers.get(Ba);if(!t||!t.match(yy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function xy(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function by(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _y=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nn(e){if(!_y.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Uo(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ky(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function Ec(e){return JSON.parse(JSON.stringify(e))}const on=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Sy=[502,503,504];async function Nc(e){var t;if(!dy(e))throw new Fa(on(e),0);if(Sy.includes(e.status))throw new Fa(on(e),e.status);let n;try{n=await e.json()}catch(i){throw new ln(on(i),i)}let r;const s=wy(e);if(s&&s.getTime()>=Cf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new _c(on(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ie}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new _c(on(n),e.status,n.weak_password.reasons);throw new Z0(on(n),e.status||500,r)}const jy=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function L(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Ba]||(i[Ba]=Cf["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await Ey(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function Ey(e,t,n,r,s,i){const o=jy(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new Fa(on(u),0)}if(a.ok||await Nc(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(u){await Nc(u)}}function Ze(e){var t;let n=null;Ty(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=ly(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Cc(e){const t=Ze(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Dt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ny(e){return{data:e,error:null}}function Cy(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=Yi(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function Tc(e){return e}function Ty(e){return e.access_token&&e.refresh_token&&e.expires_in}const Do=["global","local","others"];class Ry{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Pf(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Do[0]){if(Do.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Do.join(", ")}`);try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Dt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Yi(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Cy,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(O(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Dt})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,u;try{const c={nextPage:null,lastPage:0,total:0},d=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Tc});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);c[`${b}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(O(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Nn(t);try{return await L(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Dt})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Nn(t);try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Dt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Nn(t);try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Dt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Nn(t.userId);try{const{data:n,error:r}=await L(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(O(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Nn(t.userId),Nn(t.id);try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,a,u;try{const c={nextPage:null,lastPage:0,total:0},d=await L(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Tc});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);c[`${b}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(O(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await L(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await L(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(O(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await L(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}}function Rc(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Cn={debug:!!(globalThis&&Rf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Of extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Py extends Of{}async function Oy(e,t,n){Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Py(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Cn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Ay(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Af(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Iy(e){return parseInt(e,16)}function Ly(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function $y(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:u,resources:c,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=Af(e.address),y=d?`${d}://${r}`:r,w=e.statement?`${e.statement}
`:"",b=`${y} wants you to sign in with your Ethereum account:
${v}

${w}`;let m=`URI: ${h}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(m+=`
Expiration Time: ${s.toISOString()}`),a&&(m+=`
Not Before: ${a.toISOString()}`),u&&(m+=`
Request ID: ${u}`),c){let p=`
Resources:`;for(const g of c){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);p+=`
- ${g}`}m+=p}return`${b}
${m}`}class oe extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Pi extends oe{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function Uy({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new oe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new oe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new oe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new oe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new oe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new oe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new oe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new oe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(If(o)){if(i.rp.id!==o)return new oe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new oe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new oe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Dy({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new oe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new oe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(If(r)){if(n.rpId!==r)return new oe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new oe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class zy{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const My=new zy;function By(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Yi(e,["challenge","user","excludeCredentials"]),i=Xn(t).buffer,o=Object.assign(Object.assign({},n),{id:Xn(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const c=r[u];a.excludeCredentials[u]=Object.assign(Object.assign({},c),{id:Xn(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function Fy(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Yi(e,["challenge","allowCredentials"]),s=Xn(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Xn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function qy(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:hn(new Uint8Array(e.response.attestationObject)),clientDataJSON:hn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Vy(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:hn(new Uint8Array(s.authenticatorData)),clientDataJSON:hn(new Uint8Array(s.clientDataJSON)),signature:hn(new Uint8Array(s.signature)),userHandle:s.userHandle?hn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function If(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Pc(){var e,t;return!!(me()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Wy(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pi("Browser returned unexpected credential type",t)}:{data:null,error:new Pi("Empty credential response",t)}}catch(t){return{data:null,error:Uy({error:t,options:e})}}}async function Hy(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pi("Browser returned unexpected credential type",t)}:{data:null,error:new Pi("Empty credential response",t)}}catch(t){return{data:null,error:Dy({error:t,options:e})}}}const Ky={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Gy={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Oi(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const a=r[i];t(a)?r[i]=Oi(a,o):r[i]=Oi(o)}else r[i]=o}return r}function Jy(e,t){return Oi(Ky,e,t||{})}function Qy(e,t){return Oi(Gy,e,t||{})}class Yy{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){var o;try{const{data:a,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:u};const c=s??My.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:d}=a.webauthn.credential_options.publicKey;if(!d.name){const h=r;if(h)d.name=`${d.id}:${h}`;else{const v=(await this.client.getUser()).data.user,y=((o=v==null?void 0:v.user_metadata)===null||o===void 0?void 0:o.name)||(v==null?void 0:v.email)||(v==null?void 0:v.id)||"User";d.name=`${d.id}:${y}`}}d.displayName||(d.displayName=d.name)}switch(a.webauthn.type){case"create":{const d=Jy(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:f}=await Wy({publicKey:d,signal:c});return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{const d=Qy(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:f}=await Hy(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:d,signal:c}));return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(a){return O(a)?{data:null,error:a}:{data:null,error:new ln("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new as("rpId is required for WebAuthn authentication")};try{if(!Pc())return{data:null,error:new ln("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:u}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(o){return O(o)?{data:null,error:o}:{data:null,error:new ln("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new as("rpId is required for WebAuthn registration")};try{if(!Pc())return{data:null,error:new ln("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:u,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:c}}catch(o){return O(o)?{data:null,error:o}:{data:null,error:new ln("Unexpected error in register",o)}}}}Ay();const Xy={url:G0,storageKey:J0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Q0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Oc(e,t,n){return await n()}const Tn={};class ls{get jwks(){var t,n;return(n=(t=Tn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Tn[this.storageKey]=Object.assign(Object.assign({},Tn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Tn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Tn[this.storageKey]=Object.assign(Object.assign({},Tn[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Xy),t);if(this.storageKey=i.storageKey,this.instanceID=(n=ls.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ls.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&me()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Ry({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Pf(i.fetch),this.lock=i.lock||Oc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&me()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Oy:this.lock=Oc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Yy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Rf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Rc(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Rc(this.memoryStorage)),me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Nf}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(me()&&(n=cy(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),me()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ty(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return O(n)?this._returnResult({error:n}):this._returnResult({error:new ln("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ze}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(O(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await En(this.storage,this.storageKey)),i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:y},xform:Ze})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ze})}else throw new Fs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await pe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(await pe(this.storage,`${this.storageKey}-code-verifier`),O(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Cc})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Cc})}else throw new Fs("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new jn;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(O(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,a,u,c,d,h,f;let v,y;if("message"in t)v=t.message,y=t.signature;else{const{chain:w,wallet:b,statement:m,options:p}=t;let g;if(me())if(typeof b=="object")g=b;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")g=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=b}const _=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href),k=await g.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=Af(k[0]);let E=(r=p==null?void 0:p.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!E){const U=await g.request({method:"eth_chainId"});E=Iy(U)}const C={domain:_.host,address:S,statement:m,uri:_.href,version:"1",chainId:E,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.resources};v=$y(C),y=await g.request({method:"personal_sign",params:[Ly(v),S]})}try{const{data:w,error:b}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:y},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ze});if(b)throw b;if(!w||!w.session||!w.user){const m=new jn;return this._returnResult({data:{user:null,session:null},error:m})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:b})}catch(w){if(O(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var n,r,s,i,o,a,u,c,d,h,f,v;let y,w;if("message"in t)y=t.message,w=t.signature;else{const{chain:b,wallet:m,statement:p,options:g}=t;let _;if(me())if(typeof m=="object")_=m;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=m}const k=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),p?{statement:p}:null));let E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)y=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),w=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${k.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=S}}try{const{data:b,error:m}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:hn(w)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Ze});if(m)throw m;if(!b||!b.session||!b.user){const p=new jn;return this._returnResult({data:{user:null,session:null},error:p})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:m})}catch(b){if(O(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const n=await nn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new ny;const{data:i,error:o}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ze});if(await pe(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new jn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await pe(this.storage,`${this.storageKey}-code-verifier`),O(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ze}),{data:u,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u||!u.session||!u.user){const d=new jn;return this._returnResult({data:{user:null,session:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:c})}catch(n){if(O(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await En(this.storage,this.storageKey));const{error:h}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:a,options:u}=t,{data:c,error:d}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new Fs("You must provide either an email or phone number.")}catch(a){if(await pe(this.storage,`${this.storageKey}-code-verifier`),O(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ze});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(s){if(O(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,o;try{let a=null,u=null;this.flowType==="pkce"&&([a,u]=await En(this.storage,this.storageKey));const c=await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:u}),headers:this.headers,xform:Ny});return!((i=c.data)===null||i===void 0)&&i.url&&me()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await pe(this.storage,`${this.storageKey}-code-verifier`),O(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ie;const{error:s}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(O(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await L(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await L(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Fs("You must provide either an email or phone number and a type")}catch(n){if(O(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await nn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Io:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await nn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Uo()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=ky(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Dt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ie}:await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Dt})})}catch(n){if(O(n))return Lo(n)&&(await this._removeSession(),await pe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Ie;const o=s.session;let a=null,u=null;this.flowType==="pkce"&&t.email!=null&&([a,u]=await En(this.storage,this.storageKey));const{data:c,error:d}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:u}),jwt:o.access_token,xform:Dt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await pe(this.storage,`${this.storageKey}-code-verifier`),O(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ie;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Vs(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:u}=await this._getUser(t.access_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(O(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ie;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(O(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!me())throw new qs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new qs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new bc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new bc("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:u,token_type:c}=t;if(!i||!a||!o||!c)throw new qs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;u&&(f=parseInt(u));const v=f-d;v*1e3<=Pn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:w,error:b}=await this._getUser(i);if(b)throw b;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:m,redirectType:t.type},error:null})}catch(r){if(O(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await nn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i&&!Lo(i))return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(ey(a)&&(a.status===404||a.status===401||a.status===403)||Lo(a)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await pe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=uy(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await En(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await pe(this.storage,`${this.storageKey}-code-verifier`),O(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,u,c,d;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return me()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(O(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:u,access_token:c,nonce:d}=t,h=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:u,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ze}),{data:f,error:v}=h;return v?this._returnResult({data:{user:null,session:null},error:v}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new jn}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:v}))}catch(s){if(await pe(this.storage,`${this.storageKey}-code-verifier`),O(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await fy(async s=>(s>0&&await hy(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ze})),(s,i)=>{const o=200*Math.pow(2,s);return i&&$o(i)&&Date.now()+o-r<Pn})}catch(r){if(this._debug(n,"error",r),O(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),me()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await nn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await nn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await On(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Uo()}else if(s&&!s.user&&!s.user){const o=await nn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await pe(this.storage,this.storageKey+"-user"),await On(this.storage,this.storageKey,s)):s.user=Uo()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Io;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Io}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),$o(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ie;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new eo;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ie;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),O(i)){const o={data:null,error:i};return $o(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await pe(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await On(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Ec(s);await On(this.storage,this.storageKey,i)}else{const s=Ec(n);await On(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await pe(this.storage,this.storageKey),await pe(this.storage,this.storageKey+"-code-verifier"),await pe(this.storage,this.storageKey+"-user"),this.userStorage&&await pe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&me()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Pn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Pn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Pn}ms, refresh threshold is ${Ma} ticks`),s<=Ma&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Of)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!me()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await En(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await L(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:c}=await L(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&u.type==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?qy(t.webauthn.credential_response):Vy(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:u}=await L(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:u}))})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await L(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:By(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Fy(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,s,i;if(t)try{const{payload:v}=Vs(t);let y=null;v.aal&&(y=v.aal);let w=y;const{data:{user:b},error:m}=await this.getUser(t);if(m)return this._returnResult({data:null,error:m});((r=(n=b==null?void 0:b.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(w="aal2");const g=v.amr||[];return{data:{currentLevel:y,nextLevel:w,currentAuthenticationMethods:g},error:null}}catch(v){if(O(v))return this._returnResult({data:null,error:v});throw v}const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Vs(o.access_token);let c=null;u.aal&&(c=u.aal);let d=c;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const f=u.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await L(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ie})})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ie});const o=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&me()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ie});const o=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&me()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await L(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ie})})}catch(t){if(O(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await L(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ie})})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+X0>s)return r;const{data:i,error:o}=await L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:v,error:y}=await this.getSession();if(y||!v.session)return this._returnResult({data:null,error:y});r=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:u}}=Vs(r);n!=null&&n.allowExpired||xy(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=by(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,ay(`${a}.${u}`)))throw new qa("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}}ls.nextInstanceID={};const Zy=ls,ew="2.95.1";let Er="";typeof Deno<"u"?Er="deno":typeof document<"u"?Er="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Er="react-native":Er="node";const tw={"X-Client-Info":`supabase-js-${Er}/${ew}`},nw={headers:tw},rw={schema:"public"},sw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},iw={};function us(e){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(e)}function ow(e,t){if(us(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aw(e){var t=ow(e,"string");return us(t)=="symbol"?t:t+""}function lw(e,t,n){return(t=aw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ac(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ac(Object(n),!0).forEach(function(r){lw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ac(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const uw=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),cw=()=>Headers,dw=(e,t,n)=>{const r=uw(n),s=cw();return async(i,o)=>{var a;const u=(a=await t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(i,ne(ne({},o),{},{headers:c}))}};function hw(e){return e.endsWith("/")?e:e+"/"}function fw(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:u,auth:c,realtime:d,global:h}=t,f={db:ne(ne({},u),s),auth:ne(ne({},c),i),realtime:ne(ne({},d),o),storage:{},global:ne(ne(ne({},h),a),{},{headers:ne(ne({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function pw(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hw(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var mw=class extends Zy{constructor(e){super(e)}},gw=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=pw(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:rw,realtime:iw,auth:ne(ne({},sw),{},{storageKey:o}),global:nw},u=fw(n??{},a);if(this.storageKey=(r=u.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=u.auth)!==null&&c!==void 0?c:{},this.headers,u.global.fetch)}this.fetch=dw(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(ne({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new e0(new URL("rest/v1",i).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch,timeout:u.db.timeout,urlLengthLimit:u.db.urlLengthLimit}),this.storage=new K0(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Hv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:o,lock:a,debug:u,throwOnError:c},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mw({url:this.authUrl.href,headers:ne(ne({},f),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:o,lock:a,debug:u,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new v0(this.realtimeUrl.href,ne(ne({},e),{},{params:ne(ne({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const vw=(e,t,n)=>new gw(e,t,n);function yw(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}yw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var ww={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bw=(e,t)=>{const n=x.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:a,...u},c)=>x.createElement("svg",{ref:c,...ww,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${xw(e)}`,...u},[...t.map(([d,h])=>x.createElement(d,h)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${e}`,n};var ie=bw;const _w=ie("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]),kw=ie("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Sw=ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),jw=ie("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),Ew=ie("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]),Nw=ie("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Cw=ie("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),Tw=ie("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),Rw=ie("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Lf=ie("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Pw=ie("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),to=ie("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),Dr=ie("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),Ow=ie("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),Aw=ie("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),Iw=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Lw=ie("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Va=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),$w=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Uw=ie("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),mt=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ic={}.VITE_SUPABASE_URL||"",Lc={}.VITE_SUPABASE_ANON_KEY||"",Q=Ic&&Lc?vw(Ic,Lc):null,Dw=({children:e,className:t=""})=>l.jsx("div",{className:`bg-white border-2 border-stone-800 shadow-sm ${t}`,children:e}),$c=[{id:"demo-1",title:"La Inteligencia Artificial Transforma el Arte Moderno",subtitle:"Un debate sobre la creatividad y los algoritmos generativos que sacude las galeras.",category:"Cultura",author:"Elena R. G.",date:"2023-10-24",content:"En un giro sin precedentes para el mundo del arte contemporneo, las galeras ms prestigiosas de la ciudad han comenzado a exhibir obras generadas enteramente por algoritmos. La crtica se encuentra dividida: es esto el fin de la expresin humana o el comienzo de una nueva simbiosis? Los precios de estas obras digitales han alcanzado cifras astronmicas, mientras los tradicionalistas protestan a las puertas de los museos exigiendo una distincin clara entre el arte humano y el sinttico.",highlight:!0},{id:"demo-2",title:"Nuevas Reformas Urbanas Aprobadas",subtitle:"El concejo municipal da luz verde al proyecto de peatonalizacin del centro histrico.",category:"Poltica",author:"Mario Velasco",date:"2023-10-23",content:"Tras meses de deliberacin y mltiples consultas ciudadanas, el proyecto 'Ciudad Caminable' ha sido aprobado por unanimidad.",highlight:!1},{id:"demo-3",title:"El Equipo Local Gana el Campeonato Regional",subtitle:"Una victoria agnica en el ltimo minuto asegura la copa.",category:"Deportes",author:"J.J. Lpez",date:"2023-10-22",content:"Nadie esperaba este desenlace. Con un jugador menos y el marcador en contra, el equipo de Los Leones logr revertir el resultado.",highlight:!1},{id:"demo-4",title:"Avances en Energa Solar",subtitle:"Cientficos locales desarrollan paneles un 20% ms eficientes.",category:"Ciencia",author:"Dra. S. Mendez",date:"2023-10-21",content:"El laboratorio de energas renovables de la universidad tecnolgica ha presentado un prototipo que podra cambiar el mercado energtico domstico.",highlight:!1}],zw=({isOpen:e,onClose:t,onInsert:n,selectedText:r})=>{const[s,i]=x.useState("");x.useEffect(()=>{e&&i("")},[e]);const o=a=>{a.preventDefault(),s.trim()&&(n(s.trim()),i(""),t())};return e?l.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md bg-white border-2 border-black shadow-2xl p-6",children:[l.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4",children:[l.jsx("h2",{className:"text-xl font-serif font-bold",children:"Insertar enlace"}),l.jsx("button",{onClick:t,className:"text-stone-500 hover:text-red-700",children:l.jsx(mt,{size:22})})]}),l.jsxs("form",{onSubmit:o,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold uppercase tracking-widest text-stone-500 mb-1",children:"Texto del enlace"}),l.jsx("input",{type:"text",readOnly:!0,value:r||"(seleccione texto primero)",className:"w-full p-2 border-2 border-stone-300 bg-stone-50 outline-none text-stone-600"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold uppercase tracking-widest text-stone-500 mb-1",children:"URL de destino"}),l.jsx("input",{type:"url",required:!0,value:s,onChange:a=>i(a.target.value),placeholder:"https://ejemplo.com",className:"w-full p-2 border-2 border-stone-300 focus:border-black outline-none",autoFocus:!0})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 bg-stone-100 text-stone-700 py-2 font-bold uppercase tracking-widest hover:bg-stone-200",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"flex-1 bg-black text-white py-2 font-bold uppercase tracking-widest hover:bg-stone-800",children:"Insertar"})]}),l.jsx("p",{className:"text-xs text-stone-500",children:" Consejo: Seleccione el texto en el editor antes de hacer clic en el botn URL."})]})]})}):null},Mw=({isOpen:e,onClose:t,onInsert:n})=>{const[r,s]=x.useState(""),[i,o]=x.useState("");x.useEffect(()=>{e&&(s(""),o(""))},[e]);const a=u=>{u.preventDefault(),r.trim()&&(n(r.trim(),i.trim()||"Imagen"),s(""),o(""),t())};return e?l.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md bg-white border-2 border-black shadow-2xl p-6",children:[l.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4",children:[l.jsx("h2",{className:"text-xl font-serif font-bold",children:"Insertar imagen"}),l.jsx("button",{onClick:t,className:"text-stone-500 hover:text-red-700",children:l.jsx(mt,{size:22})})]}),l.jsxs("form",{onSubmit:a,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold uppercase tracking-widest text-stone-500 mb-1",children:"URL de la imagen"}),l.jsx("input",{type:"url",required:!0,value:r,onChange:u=>s(u.target.value),placeholder:"https://ejemplo.com/imagen.jpg",className:"w-full p-2 border-2 border-stone-300 focus:border-black outline-none",autoFocus:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold uppercase tracking-widest text-stone-500 mb-1",children:"Texto alternativo (opcional)"}),l.jsx("input",{type:"text",value:i,onChange:u=>o(u.target.value),placeholder:"Descripcin de la imagen",className:"w-full p-2 border-2 border-stone-300 focus:border-black outline-none"})]}),r&&l.jsxs("div",{className:"border-2 border-stone-200 p-2 rounded",children:[l.jsx("p",{className:"text-xs text-stone-500 mb-2",children:"Vista previa:"}),l.jsx("img",{src:r,alt:i||"Vista previa",className:"w-full max-h-48 object-contain",onError:u=>{u.target.style.display="none",u.target.nextSibling.style.display="block"}}),l.jsx("p",{className:"text-xs text-red-600 hidden",children:"No se pudo cargar la imagen. Verifica la URL."})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 bg-stone-100 text-stone-700 py-2 font-bold uppercase tracking-widest hover:bg-stone-200",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"flex-1 bg-black text-white py-2 font-bold uppercase tracking-widest hover:bg-stone-800",children:"Insertar"})]}),l.jsx("p",{className:"text-xs text-stone-500",children:" Consejo: Asegrate de que la URL de la imagen sea pblica y accesible."})]})]})}):null},Bw=({isOpen:e,onClose:t,onInsert:n})=>{const[r,s]=x.useState(""),[i,o]=x.useState("");x.useEffect(()=>{e&&(s(""),o(""))},[e]);const a=u=>{u.preventDefault(),r.trim()&&i.trim()&&(n(r.trim(),i.trim()),s(""),o(""),t())};return e?l.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md bg-white border-2 border-black shadow-2xl p-6",children:[l.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4",children:[l.jsx("h2",{className:"text-xl font-serif font-bold",children:"Insertar Archivo"}),l.jsx("button",{onClick:t,className:"text-stone-500 hover:text-red-700",children:l.jsx(mt,{size:22})})]}),l.jsxs("form",{onSubmit:a,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold uppercase tracking-widest text-stone-500 mb-1",children:"Nombre del archivo"}),l.jsx("input",{type:"text",required:!0,value:r,onChange:u=>s(u.target.value),placeholder:"R 232",className:"w-full p-2 border-2 border-stone-300 focus:border-black outline-none",autoFocus:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold uppercase tracking-widest text-stone-500 mb-1",children:"URL del archivo"}),l.jsx("input",{type:"url",required:!0,value:i,onChange:u=>o(u.target.value),placeholder:"https://ejemplo.com/documento.pdf",className:"w-full p-2 border-2 border-stone-300 focus:border-black outline-none"})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-3 rounded text-xs text-stone-600",children:[l.jsx("p",{className:"font-bold mb-1",children:" Consejo:"}),l.jsx("p",{children:"Puedes usar enlaces de Google Drive, Dropbox, o cualquier URL pblica."})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 bg-stone-100 text-stone-700 py-2 font-bold uppercase tracking-widest hover:bg-stone-200",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 font-bold uppercase tracking-widest hover:bg-blue-700",children:"Insertar"})]})]})]})}):null},Fw=({isOpen:e,onClose:t,onInsert:n})=>{const[r,s]=x.useState("");x.useEffect(()=>{e&&s("")},[e]);const i=a=>{const u=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,/^([a-zA-Z0-9_-]{11})$/];for(const c of u){const d=a.match(c);if(d)return d[1]}return null},o=a=>{a.preventDefault();const u=i(r.trim());if(!u){alert("Por favor, introduce una URL vlida de YouTube o un ID de video vlido.");return}n(u),s(""),t()};return e?l.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md bg-white border-2 border-black shadow-2xl p-6",children:[l.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4",children:[l.jsx("h2",{className:"text-xl font-serif font-bold",children:"Insertar video de YouTube"}),l.jsx("button",{onClick:t,className:"text-stone-500 hover:text-red-700",children:l.jsx(mt,{size:22})})]}),l.jsxs("form",{onSubmit:o,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold uppercase tracking-widest text-stone-500 mb-1",children:"URL del video o ID"}),l.jsx("input",{type:"text",required:!0,value:r,onChange:a=>s(a.target.value),placeholder:"https://youtube.com/watch?v=... o dQw4w9WgXcQ",className:"w-full p-2 border-2 border-stone-300 focus:border-black outline-none",autoFocus:!0})]}),l.jsxs("div",{className:"bg-stone-50 border border-stone-200 p-3 rounded text-xs text-stone-600",children:[l.jsx("p",{className:"font-bold mb-1",children:"Formatos aceptados:"}),l.jsxs("ul",{className:"space-y-1 ml-4 list-disc",children:[l.jsx("li",{children:"https://youtube.com/watch?v=VIDEO_ID"}),l.jsx("li",{children:"https://youtu.be/VIDEO_ID"}),l.jsx("li",{children:"VIDEO_ID (solo el identificador)"})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 bg-stone-100 text-stone-700 py-2 font-bold uppercase tracking-widest hover:bg-stone-200",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"flex-1 bg-black text-white py-2 font-bold uppercase tracking-widest hover:bg-stone-800",children:"Insertar"})]})]})]})}):null},qw=({isOpen:e,onClose:t,onInsert:n})=>{const[r,s]=x.useState("");x.useEffect(()=>{e&&s("")},[e]);const i=a=>{const u=[/ivoox\.com\/rf\/(\d+)/,/ivoox\.com\/.*_md_(\d+)_/,/^(\d{8,})$/];for(const c of u){const d=a.match(c);if(d)return d[1]}return null},o=a=>{a.preventDefault();const u=i(r.trim());if(!u){alert("Por favor, introduce una URL vlida de Ivoox o un ID de podcast vlido.");return}n(u),s(""),t()};return e?l.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md bg-white border-2 border-black shadow-2xl p-6",children:[l.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4",children:[l.jsx("h2",{className:"text-xl font-serif font-bold",children:"Insertar Podcast de Ivoox"}),l.jsx("button",{onClick:t,className:"text-stone-500 hover:text-red-700",children:l.jsx(mt,{size:22})})]}),l.jsxs("form",{onSubmit:o,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold uppercase tracking-widest text-stone-500 mb-1",children:"URL del episodio o ID"}),l.jsx("input",{type:"text",required:!0,value:r,onChange:a=>s(a.target.value),placeholder:"https://go.ivoox.com/rf/167955875 o 167955875",className:"w-full p-2 border-2 border-stone-300 focus:border-black outline-none",autoFocus:!0})]}),l.jsxs("div",{className:"bg-orange-50 border border-orange-200 p-3 rounded text-xs text-stone-600",children:[l.jsxs("p",{className:"font-bold mb-2 flex items-center gap-1",children:[l.jsx(to,{size:14,className:"text-orange-600"}),"Formatos aceptados:"]}),l.jsxs("ul",{className:"space-y-1 ml-4 list-disc",children:[l.jsx("li",{children:"https://go.ivoox.com/rf/167955875"}),l.jsx("li",{children:"https://www.ivoox.com/episodio_md_167955875_1.mp3"}),l.jsx("li",{children:"167955875 (solo el ID numrico)"})]})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-3 rounded text-xs text-stone-600",children:[l.jsx("p",{className:"font-bold mb-1",children:" Cmo obtener el ID?"}),l.jsxs("ol",{className:"space-y-1 ml-4 list-decimal",children:[l.jsx("li",{children:"Ve al episodio en Ivoox"}),l.jsx("li",{children:'Haz clic en "Compartir"'}),l.jsx("li",{children:"Copia el enlace (contiene el ID)"})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 bg-stone-100 text-stone-700 py-2 font-bold uppercase tracking-widest hover:bg-stone-200",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"flex-1 bg-orange-600 text-white py-2 font-bold uppercase tracking-widest hover:bg-orange-700",children:"Insertar"})]})]})]})}):null},Vw=()=>{const[e,t]=x.useState(1),[n,r]=x.useState(!0);return x.useEffect(()=>{(async()=>{if(!Q){const i=parseInt(localStorage.getItem("edition_number")||"1");t(i),r(!1);return}try{const{data:i,error:o}=await Q.from("site_stats").select("edition_number").eq("id",1).single();o&&o.code==="PGRST116"?t(1):i&&t(i.edition_number||1)}catch(i){console.error("Error fetching edition number:",i)}finally{r(!1)}})()},[]),n?l.jsx("span",{className:"text-xs text-stone-500",children:"..."}):l.jsxs("span",{className:"text-xs text-stone-500 font-bold",children:["Edicin N ",e]})},Ww=({session:e,setAuthOpen:t,handleSignOut:n,canEdit:r,handleCreateNew:s,selectedCategory:i,setShowSubscribe:o})=>l.jsxs("div",{className:"bg-white border-b-4 border-black shadow-md sticky top-0 z-40",children:[l.jsxs("div",{className:"container mx-auto px-4 py-3 text-xs md:text-sm flex justify-between items-center border-b border-stone-200",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("a",{href:"https://www.ivoox.com/podcast-lab-periodismo-critico_sq_f13106090_1.html",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 px-3 py-1.5 bg-red-600 text-white hover:bg-orange-600 transition-colors rounded shadow-sm",title:"Escuchar podcast en Ivoox",children:[l.jsx(to,{size:14,className:"animate-pulse"}),l.jsx("span",{className:"hidden sm:inline",children:"Podcast"})]}),l.jsx("span",{className:"hidden md:inline",children:new Date().toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),l.jsx(Vw,{})]}),l.jsxs("div",{className:"flex gap-4 items-center",children:[l.jsx("button",{onClick:()=>o(!0),className:"cursor-pointer hover:underline hidden sm:inline font-bold text-orange-600 hover:text-orange-700 transition-colors",children:"Suscribirse"}),e?l.jsx("button",{onClick:n,className:"cursor-pointer hover:underline",children:"Cerrar Sesin"}):l.jsx("button",{onClick:()=>t(!0),className:"cursor-pointer hover:underline",children:"Iniciar Sesin"})]})]}),l.jsxs("div",{className:"container mx-auto px-4 py-8 text-center relative",children:[l.jsx(Te,{to:"/",className:"text-5xl md:text-7xl font-serif font-black tracking-tighter mb-2 text-stone-900 cursor-pointer hover:text-stone-700 transition-colors block",children:"LAB de Periodismo Crtico"}),l.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 hidden lg:flex gap-2",children:r&&l.jsxs("button",{onClick:s,className:"flex items-center gap-2 bg-stone-900 text-white px-4 py-2 hover:bg-red-700 transition-colors shadow-md",children:[l.jsx(Dr,{size:16}),l.jsx("span",{children:"Publicar Nota"})]})})]}),l.jsx("div",{className:"border-t-2 border-black border-double py-2 bg-stone-200",children:l.jsxs("div",{className:"container mx-auto px-4 flex justify-center md:justify-between items-center font-serif font-bold text-sm md:text-base",children:[l.jsx("nav",{className:"flex flex-wrap justify-center gap-6 uppercase tracking-wider",children:["Blog","Dossier","Editorial","Gobierno Universitario","Minuto LAB"].map(a=>l.jsx(Te,{to:`/categoria/${a}`,className:`hover:text-orange-600 transition-colors decoration-2 underline-offset-4 hover:underline ${i===a?"text-orange-600 underline":""}`,children:a},a))}),l.jsxs("div",{className:"hidden md:flex items-center gap-4 text-stone-500",children:[l.jsx(Iw,{size:18,className:"cursor-pointer hover:text-black"}),l.jsx(Pw,{size:18,className:"cursor-pointer hover:text-black"})]})]})})]}),Uc=()=>l.jsx("div",{className:"bg-stone-100 border-b border-stone-300 py-3",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsx("div",{className:"max-w-5xl mx-auto",children:l.jsxs("details",{className:"group",children:[l.jsxs("summary",{className:"flex items-center justify-between gap-3 cursor-pointer list-none hover:text-red-700 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"bg-red-600 rounded-full p-1.5 animate-pulse shadow-lg shadow-red-600/50",children:l.jsx(to,{size:12,className:"text-white animate-bounce"})}),l.jsx("span",{className:"text-sm font-serif font-bold bg-gradient-to-r from-orange-600 via-orange-500 to-orange-600 bg-clip-text text-transparent animate-pulse bg-[length:200%_auto]",children:"Escuchar Podcast"})]}),l.jsx("span",{className:"text-xs text-stone-500 group-open:rotate-180 transition-transform",children:""})]}),l.jsx("div",{className:"mt-3 bg-white rounded border border-stone-300 overflow-hidden",children:l.jsx("iframe",{src:"https://www.ivoox.com/player_es_podcast_3106090_zp_1.html?c1=444444",width:"100%",height:"200",frameBorder:"0",allowFullScreen:!0,scrolling:"no",loading:"lazy",title:"LAB Periodismo Crtico Podcast",className:"w-full"})})]})})})}),Hw=({authOpen:e,setAuthOpen:t,authForm:n,setAuthForm:r,handleSignIn:s,authBusy:i})=>e?l.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md bg-white border-2 border-black shadow-2xl p-6",children:[l.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4",children:[l.jsx("h2",{className:"text-xl font-serif font-bold",children:"Iniciar sesin"}),l.jsx("button",{onClick:()=>t(!1),className:"text-stone-500 hover:text-red-700",children:l.jsx(mt,{size:22})})]}),l.jsxs("form",{onSubmit:s,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold uppercase tracking-widest text-stone-500 mb-1",children:"Email"}),l.jsx("input",{type:"email",required:!0,value:n.email,onChange:o=>r({...n,email:o.target.value}),className:"w-full p-2 border-2 border-stone-300 focus:border-black outline-none",placeholder:"tu@email.com"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold uppercase tracking-widest text-stone-500 mb-1",children:"Contrasea"}),l.jsx("input",{type:"password",required:!0,value:n.password,onChange:o=>r({...n,password:o.target.value}),className:"w-full p-2 border-2 border-stone-300 focus:border-black outline-none",placeholder:""})]}),l.jsx("button",{type:"submit",disabled:i,className:"w-full bg-black text-white py-2 hover:bg-stone-800 font-bold uppercase tracking-widest disabled:opacity-60",children:i?"Procesando...":"Iniciar sesin"})]})]})}):null,Dc=({formData:e,setFormData:t,isEditing:n,loading:r,handleSave:s,setView:i,insertAtCursor:o})=>{const[a,u]=x.useState(!1),[c,d]=x.useState(!1),[h,f]=x.useState(!1),[v,y]=x.useState(!1),[w,b]=x.useState(!1),[m,p]=x.useState(""),[g,_]=x.useState({start:0,end:0}),[k,S]=x.useState(""),E=()=>{const F=document.getElementById("content-editor");if(!F)return;const V=F.selectionStart,B=F.selectionEnd,J=e.content,N=J.substring(V,B);if(!N){alert("Por favor, seleccione el texto que desea convertir en enlace primero.");return}p(N),_({start:V,end:B}),S(J),u(!0)},C=F=>{const V=document.getElementById("content-editor");if(!V)return;const B=`[${m}](${F})`,J=k.substring(0,g.start)+B+k.substring(g.end);t({...e,content:J}),setTimeout(()=>{V.focus();const N=g.start+B.length;V.selectionStart=N,V.selectionEnd=N},0)},U=()=>{d(!0)},A=(F,V)=>{const B=document.getElementById("content-editor");if(!B)return;const J=B.selectionStart,N=e.content,T=`![${V}](${F})`,R=N.substring(0,J)+`
`+T+`
`+N.substring(J);t({...e,content:R}),setTimeout(()=>{B.focus();const I=J+T.length+2;B.selectionStart=I,B.selectionEnd=I},0)},fe=F=>{const V=document.getElementById("content-editor");if(!V)return;const B=V.selectionStart,J=e.content,N=`[youtube:${F}]`,T=J.substring(0,B)+`
`+N+`
`+J.substring(B);t({...e,content:T}),setTimeout(()=>{V.focus();const R=B+N.length+2;V.selectionStart=R,V.selectionEnd=R},0)},Je=(F,V)=>{const B=document.getElementById("content-editor");if(!B)return;const J=B.selectionStart,N=e.content,T=`[archivo:${F}|${V}|PDF file]`,R=N.substring(0,J)+`
`+T+`
`+N.substring(J);t({...e,content:R}),setTimeout(()=>{B.focus();const I=J+T.length+2;B.selectionStart=I,B.selectionEnd=I},0)},Qe=F=>{const V=document.getElementById("content-editor");if(!V)return;const B=V.selectionStart,J=e.content,N=`[ivoox:${F}]`,T=J.substring(0,B)+`
`+N+`
`+J.substring(B);t({...e,content:T}),setTimeout(()=>{V.focus();const R=B+N.length+2;V.selectionStart=R,V.selectionEnd=R},0)};return l.jsxs(l.Fragment,{children:[l.jsx(zw,{isOpen:a,onClose:()=>u(!1),onInsert:C,selectedText:m}),l.jsx(Mw,{isOpen:c,onClose:()=>d(!1),onInsert:A}),l.jsx(Fw,{isOpen:h,onClose:()=>f(!1),onInsert:fe}),l.jsx(qw,{isOpen:w,onClose:()=>b(!1),onInsert:Qe}),l.jsx(Bw,{isOpen:v,onClose:()=>y(!1),onInsert:Je}),l.jsxs("div",{className:"max-w-3xl mx-auto bg-white p-8 border border-stone-300 shadow-xl mt-8 mb-12",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[l.jsx("h2",{className:"text-2xl font-serif font-bold text-stone-800",children:n?"Editar Nota":"Nueva Publicacin"}),l.jsx("button",{onClick:()=>i("frontpage"),className:"text-stone-500 hover:text-red-600",children:l.jsx(mt,{size:24})})]}),l.jsxs("form",{onSubmit:s,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-1 uppercase tracking-wide",children:"Titular"}),l.jsx("input",{required:!0,type:"text",value:e.title,onChange:F=>t({...e,title:F.target.value}),className:"w-full p-3 text-2xl font-serif font-bold border-2 border-stone-300 focus:border-black outline-none bg-stone-50",placeholder:"Escriba un titular impactante..."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-1 uppercase tracking-wide",children:"Categora"}),l.jsxs("select",{value:e.category,onChange:F=>t({...e,category:F.target.value}),className:"w-full p-2 border-2 border-stone-300 focus:border-black outline-none bg-white font-serif",children:[l.jsx("option",{children:"Blog"}),l.jsx("option",{children:"Dossier"}),l.jsx("option",{children:"Editorial"}),l.jsx("option",{children:"Gobierno Universitario"}),l.jsx("option",{children:"Minuto LAB"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-1 uppercase tracking-wide",children:"Autor"}),l.jsx("input",{required:!0,type:"text",value:e.author,onChange:F=>t({...e,author:F.target.value}),className:"w-full p-2 border-2 border-stone-300 focus:border-black outline-none",placeholder:"Nombre del periodista"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-1 uppercase tracking-wide",children:"Bajada / Subttulo"}),l.jsx("input",{type:"text",value:e.subtitle,onChange:F=>t({...e,subtitle:F.target.value}),className:"w-full p-2 border-2 border-stone-300 focus:border-black outline-none italic font-serif",placeholder:"Un resumen breve de la noticia..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-1 uppercase tracking-wide",children:"Contenido de la Nota"}),l.jsxs("div",{className:"mb-3 p-3 bg-stone-100 border-2 border-stone-300 rounded flex flex-wrap gap-2",children:[l.jsxs("button",{type:"button",onClick:()=>o("**","**"),className:"flex items-center gap-1 px-3 py-1 bg-white border border-stone-300 hover:bg-stone-200 rounded text-sm font-bold",title:"Negrita",children:[l.jsx(_w,{size:14})," Bold"]}),l.jsxs("button",{type:"button",onClick:()=>o("_","_"),className:"flex items-center gap-1 px-3 py-1 bg-white border border-stone-300 hover:bg-stone-200 rounded text-sm",title:"Cursiva",children:[l.jsx(Cw,{size:14})," Italic"]}),l.jsxs("button",{type:"button",onClick:E,className:"flex items-center gap-1 px-3 py-1 bg-white border border-stone-300 hover:bg-stone-200 rounded text-sm",title:"Enlace",children:[l.jsx(Tw,{size:14})," URL"]}),l.jsxs("button",{type:"button",onClick:U,className:"flex items-center gap-1 px-3 py-1 bg-white border border-stone-300 hover:bg-stone-200 rounded text-sm",title:"Imagen",children:[l.jsx(Nw,{size:14})," Imagen"]}),l.jsxs("button",{type:"button",onClick:()=>f(!0),className:"flex items-center gap-1 px-3 py-1 bg-white border border-stone-300 hover:bg-stone-200 rounded text-sm",title:"Video de YouTube",children:[l.jsx(Uw,{size:14})," YouTube"]}),l.jsxs("button",{type:"button",onClick:()=>b(!0),className:"flex items-center gap-1 px-3 py-1 bg-white border border-orange-300 hover:bg-orange-50 rounded text-sm text-orange-700",title:"Podcast de Ivoox",children:[l.jsx(to,{size:14})," Podcast"]}),l.jsxs("button",{type:"button",onClick:()=>y(!0),className:"flex items-center gap-1 px-3 py-1 bg-white border border-blue-300 hover:bg-blue-50 rounded text-sm text-blue-700",title:"Archivo adjunto",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48"})}),"Archivo"]}),l.jsxs("button",{type:"button",onClick:()=>o("## ",`
`),className:"flex items-center gap-1 px-3 py-1 bg-white border border-stone-300 hover:bg-stone-200 rounded text-sm",title:"Encabezado",children:[l.jsx(Ew,{size:14})," Ttulo"]}),l.jsxs("button",{type:"button",onClick:()=>o("> ",`
`),className:"flex items-center gap-1 px-3 py-1 bg-white border border-stone-300 hover:bg-stone-200 rounded text-sm",title:"Cita",children:[l.jsx(Aw,{size:14})," Cita"]}),l.jsxs("button",{type:"button",onClick:()=>o("- ",`
`),className:"flex items-center gap-1 px-3 py-1 bg-white border border-stone-300 hover:bg-stone-200 rounded text-sm",title:"Lista",children:[l.jsx(Rw,{size:14})," Lista"]})]}),l.jsxs("details",{className:"mb-2 text-xs text-stone-500",children:[l.jsx("summary",{className:"cursor-pointer font-bold hover:text-stone-700",children:" Ayuda de formato"}),l.jsxs("ul",{className:"mt-2 space-y-1 pl-4 text-stone-600",children:[l.jsxs("li",{children:["**texto**  ",l.jsx("strong",{children:"texto en negrita"})]}),l.jsxs("li",{children:["_texto_  ",l.jsx("em",{children:"texto en cursiva"})]}),l.jsx("li",{children:"[texto](url)  enlace clicable"}),l.jsx("li",{children:"![alt](url)  imagen"}),l.jsx("li",{children:"[youtube:VIDEO_ID]  video de YouTube"}),l.jsx("li",{children:"[ivoox:PODCAST_ID]  mini reproductor de podcast Ivoox"}),l.jsx("li",{children:"[archivo:Nombre|URL|Tamao]  tarjeta de descarga"}),l.jsx("li",{children:"## Texto  encabezado (subttulo importante)"}),l.jsx("li",{children:"> Texto  cita o destacado"}),l.jsx("li",{children:"- Texto  lista de vietas"})]})]}),l.jsx("textarea",{id:"content-editor",required:!0,rows:12,value:e.content,onChange:F=>t({...e,content:F.target.value}),className:"w-full p-4 border-2 border-stone-300 focus:border-black outline-none font-serif text-lg leading-relaxed bg-stone-50",placeholder:"Escriba aqu el cuerpo de la noticia..."})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-stone-200",children:[l.jsx("button",{type:"button",onClick:()=>i("frontpage"),className:"px-6 py-2 text-stone-600 hover:bg-stone-100 font-bold uppercase tracking-wider text-sm",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:r,className:"px-8 py-2 bg-black text-white hover:bg-stone-800 font-bold uppercase tracking-wider text-sm shadow-lg disabled:opacity-60",children:r?"Guardando...":n?"Guardar Cambios":"Publicar Nota"})]})]})]})]})},Kw=({articles:e,canEdit:t,handleEditArticle:n,handleDeleteArticle:r})=>{const{id:s}=df(),i=Ml(),o=e.find(d=>String(d.id)===String(s));if(!o)return l.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[l.jsx("p",{className:"text-stone-500 font-serif text-xl italic",children:"Cargando artculo..."}),l.jsx(Te,{to:"/",className:"mt-4 inline-block bg-stone-900 text-white px-6 py-2 uppercase tracking-widest text-xs font-bold",children:"Volver al Inicio"})]});if(!o)return null;const a=d=>{if(!d)return"";let h=d;return h=h.replace(/\[archivo:([^\|]+)\|([^\|]+)\|([^\]]+)\]/g,(f,v,y,w)=>`
      <div class="my-6 bg-white border-2 border-stone-200 rounded-lg p-4 flex items-center justify-between hover:shadow-lg transition-shadow">
        <div class="flex items-center gap-4">
          <div class="bg-stone-100 rounded-full p-3">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-stone-600">
              <path d="m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>
            </svg>
          </div>
          <div>
            <p class="font-bold text-stone-900">${v}</p>
            <p class="text-sm text-stone-500">${w}  PDF file</p>
          </div>
        </div>
        <a href="${y}" target="_blank" rel="noopener noreferrer" download class="bg-orange-600 hover:bg-orange-700 text-white font-bold px-6 py-2 rounded transition-colors">
          Download
        </a>
      </div>
    `),h=h.replace(/\[youtube:([^\]]+)\]/g,'<div class="my-8"><iframe width="100%" height="400" src="https://www.youtube.com/embed/$1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen class="rounded shadow-lg"></iframe></div>'),h=h.replace(/\[ivoox:([^\]]+)\]/g,'<div class="my-8 bg-orange-50 border-2 border-orange-600 rounded-lg p-4"><iframe src="https://www.ivoox.com/player_ek_$1_6_1.html" width="100%" height="200" frameborder="0" allowfullscreen scrolling="no" loading="lazy" class="rounded"></iframe><p class="text-xs text-stone-600 mt-2 text-center"> Episodio de podcast va Ivoox</p></div>'),h=h.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,'<img src="$2" alt="$1" class="w-full max-w-2xl mx-auto my-6 rounded shadow-lg" loading="lazy" />'),h=h.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-red-700 underline hover:text-red-900" target="_blank" rel="noopener noreferrer">$1</a>'),h=h.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),h=h.replace(/_([^_]+)_/g,"<em>$1</em>"),h=h.replace(/^## (.+)$/gm,'<h3 class="text-2xl font-bold mt-6 mb-3">$1</h3>'),h=h.replace(/^> (.+)$/gm,'<blockquote class="border-l-4 border-stone-300 pl-4 italic my-4">$1</blockquote>'),h=h.replace(/^- (.+)$/gm,'<li class="ml-6">$1</li>'),h=h.split(`

`).map(f=>`<p class="mb-4">${f}</p>`).join(""),h},u=async()=>{if(navigator.share)try{await navigator.share({title:o.title,text:o.subtitle,url:window.location.href})}catch(d){console.log("Error sharing:",d)}else alert("Tu navegador no soporta la funcin de compartir.")},c=()=>{window.print()};return l.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[l.jsx("div",{className:"max-w-4xl mx-auto bg-white border border-stone-200 shadow-sm p-6 md:p-12 mb-12",children:l.jsxs("button",{onClick:()=>i(-1),className:"mb-8 flex items-center gap-2 text-stone-500 hover:text-stone-900 uppercase tracking-widest text-xs font-bold group",children:[l.jsx(Sw,{size:16,className:"group-hover:-translate-x-1 transition-transform"}),"Volver"]})}),l.jsxs("article",{className:"bg-white p-8 md:p-12 border border-stone-300 shadow-xl",children:[l.jsxs("div",{className:"mb-6 flex flex-wrap gap-3 items-center text-xs",children:[l.jsx("span",{className:"bg-orange-600 text-white font-bold px-3 py-1 uppercase tracking-widest",children:o.category}),l.jsxs("span",{className:"text-stone-500 font-bold uppercase tracking-wider flex items-center gap-1",children:[l.jsx(kw,{size:14}),o.date]}),l.jsxs("span",{className:"text-stone-500 font-bold uppercase tracking-wider flex items-center gap-1",children:[l.jsx($w,{size:14}),o.author]}),l.jsxs("div",{className:"ml-auto flex gap-2",children:[l.jsx("button",{onClick:u,className:"p-2 hover:bg-stone-100 rounded text-stone-600",title:"Compartir",children:l.jsx(Lw,{size:16})}),l.jsx("button",{onClick:c,className:"p-2 hover:bg-stone-100 rounded text-stone-600",title:"Imprimir",children:l.jsx(Ow,{size:16})}),t&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>n(o),className:"p-2 hover:bg-stone-200 rounded text-stone-600",title:"Editar",children:l.jsx(Dr,{size:16})}),l.jsx("button",{onClick:()=>{window.confirm("Borrar esta nota?")&&r(o.id)},className:"p-2 hover:bg-red-100 text-red-600 rounded",title:"Borrar",children:l.jsx(Va,{size:16})})]})]})]}),l.jsx("h1",{className:"text-4xl md:text-6xl font-serif font-black leading-tight mb-6",children:o.title}),o.subtitle&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"h-1 w-24 bg-black mb-6"}),l.jsx("p",{className:"text-2xl md:text-3xl font-serif text-stone-700 italic leading-relaxed mb-8",children:o.subtitle})]}),l.jsx("div",{className:"prose prose-lg max-w-none font-serif text-lg leading-relaxed text-stone-800",dangerouslySetInnerHTML:{__html:a(o.content)}})]})]})},zc=({loading:e,articles:t,session:n,setAuthOpen:r,canEdit:s,handleCreateNew:i,handleEditArticle:o,handleDeleteArticle:a})=>{const{category:u}=df();if(e)return l.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[l.jsx(Lf,{className:"mx-auto animate-spin text-stone-500",size:48}),l.jsx("p",{className:"mt-4 text-stone-500 font-serif",children:"Cargando noticias..."})]});const c=u?t.filter(f=>f.category===u):t;if(!c||c.length===0)return l.jsx("div",{className:"container mx-auto px-4 pb-12",children:l.jsxs("div",{className:"text-center py-20 text-stone-500",children:[l.jsx("p",{className:"font-serif text-2xl italic",children:u?`No hay noticias en la categora "${u}".`:"No hay noticias hoy."}),l.jsx("p",{className:"mt-2",children:"S el primero en informar."}),!n&&l.jsx("button",{onClick:()=>r(!0),className:"mt-6 underline font-bold uppercase tracking-widest text-xs",children:"Iniciar sesin para publicar"})]})});const d=c[0],h=c.slice(1);return l.jsxs("div",{className:"container mx-auto px-4 pb-12",children:[u&&l.jsx("div",{className:"mt-6 mb-8 p-4 bg-orange-50 border-l-4 border-orange-600",children:l.jsxs("p",{className:"font-serif font-bold text-lg text-orange-900",children:["Filtrando por: ",u]})}),s&&l.jsx("div",{className:"lg:hidden mb-6 mt-4",children:l.jsxs("button",{onClick:i,className:"w-full flex justify-center items-center gap-2 bg-stone-900 text-white px-4 py-3 hover:bg-stone-800 font-bold uppercase tracking-wider",children:[l.jsx(Dr,{size:16})," Publicar Nota"]})}),l.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 mb-12 border-b-2 border-black pb-12",children:[l.jsxs("div",{className:"lg:col-span-8 group",children:[l.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[l.jsx("span",{className:"bg-orange-600 text-white text-[10px] font-bold px-2 py-0.5 uppercase tracking-widest",children:d.category}),l.jsx("span",{className:"text-xs text-stone-500 font-bold uppercase",children:d.date}),s&&l.jsxs("div",{className:"flex gap-2 ml-auto",children:[l.jsx("button",{type:"button",onClick:f=>{f.stopPropagation(),o(d)},className:"p-1 hover:bg-stone-200 rounded text-stone-600",title:"Editar",children:l.jsx(Dr,{size:14})}),l.jsx("button",{type:"button",onClick:f=>{f.stopPropagation(),a(d.id)},className:"p-1 hover:bg-red-100 text-red-600 rounded",title:"Borrar",children:l.jsx(Va,{size:14})})]})]}),l.jsx(Te,{to:`/articulo/${d.id}`,className:"text-4xl md:text-6xl font-serif font-black text-stone-900 mb-4 leading-none hover:underline decoration-4 decoration-stone-300 underline-offset-4 cursor-pointer block",children:d.title}),l.jsx("div",{className:"h-1 w-20 bg-black mb-4"}),l.jsx("p",{className:"text-xl md:text-2xl font-serif text-stone-700 italic leading-relaxed",children:d.subtitle}),l.jsx("div",{className:"mt-4 flex gap-2",children:l.jsx(Te,{to:`/articulo/${d.id}`,className:"text-red-700 font-bold text-sm uppercase tracking-widest hover:bg-red-50 px-2 py-1 -ml-2",children:"Leer nota completa "})})]}),l.jsxs(Dw,{className:"lg:col-span-4 flex flex-col justify-center border-l border-stone-300 pl-8 bg-stone-50/50 p-6",children:[l.jsx("h3",{className:"font-sans font-bold text-xs uppercase tracking-widest text-stone-400 mb-4 border-b border-stone-200 pb-2",children:"Destacado del Editor"}),l.jsxs("p",{className:"font-serif text-lg leading-relaxed text-stone-800 line-clamp-[10]",children:[String(d.content||"").replace(/\[youtube:[^\]]+\]/g,"").replace(/!\[([^\]]*)\]\([^)]+\)/g,"").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/\*\*([^*]+)\*\*/g,"$1").replace(/_([^_]+)_/g,"$1").replace(/^##\s+(.+)$/gm,"$1").replace(/^>\s+(.+)$/gm,"$1").replace(/^-\s+(.+)$/gm,"$1").replace(/\n+/g," ").trim().substring(0,300),"..."]}),l.jsxs("div",{className:"mt-auto pt-4 flex items-center gap-2 text-xs font-bold uppercase text-stone-500",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-stone-300 flex items-center justify-center text-stone-600",children:String(d.author||"?").charAt(0)}),d.author]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 gap-y-12",children:h.map(f=>l.jsxs("article",{className:"flex flex-col h-full border-t border-black pt-4 group",children:[l.jsxs("div",{className:"mb-3 flex justify-between items-center",children:[l.jsx("span",{className:"text-xs font-bold text-orange-600 uppercase tracking-widest",children:f.category}),s&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",onClick:v=>{v.stopPropagation(),o(f)},className:"p-1 hover:bg-stone-200 rounded text-stone-600",title:"Editar",children:l.jsx(Dr,{size:12})}),l.jsx("button",{type:"button",onClick:v=>{v.stopPropagation(),a(f.id)},className:"p-1 hover:bg-red-100 text-red-600 rounded",title:"Borrar",children:l.jsx(Va,{size:12})})]})]}),l.jsx(Te,{to:`/articulo/${f.id}`,className:"text-2xl font-serif font-bold leading-tight mb-2 cursor-pointer hover:text-stone-600 transition-colors block",children:f.title}),l.jsx("p",{className:"text-stone-600 font-serif italic text-sm mb-4 line-clamp-3 flex-grow",children:f.subtitle}),l.jsxs("div",{className:"mt-auto pt-4 border-t border-stone-100 flex justify-between items-center text-xs text-stone-400 uppercase font-bold tracking-wider",children:[l.jsx("span",{children:f.author}),l.jsx(Te,{to:`/articulo/${f.id}`,className:"text-black hover:underline",children:"Leer"})]})]},f.id))})]})},Gw=()=>{const[e,t]=x.useState(0),[n,r]=x.useState(!0);return x.useEffect(()=>{(async()=>{if(!Q){const o=parseInt(localStorage.getItem("visit_count")||"0")+1;localStorage.setItem("visit_count",o.toString()),t(o),r(!1);return}try{const{data:i,error:o}=await Q.from("site_stats").select("visit_count").eq("id",1).single();if(o&&o.code==="PGRST116"){const{data:a,error:u}=await Q.from("site_stats").insert({id:1,visit_count:1}).select().single();u||t(1)}else if(i){const a=(i.visit_count||0)+1;await Q.from("site_stats").update({visit_count:a}).eq("id",1),t(a)}}catch(i){console.error("Error updating visits:",i)}finally{r(!1)}})()},[]),n?l.jsx("div",{className:"text-xs text-stone-500",children:"Cargando contador..."}):l.jsxs("div",{className:"text-xs text-stone-400",children:[l.jsx("p",{className:"font-bold uppercase tracking-wider mb-1",children:"Visitas Totales"}),l.jsx("p",{className:"text-2xl font-mono font-bold text-orange-500",children:e.toLocaleString()})]})},Jw=({isOpen:e,onClose:t})=>e?l.jsx("div",{className:"fixed inset-0 z-50 bg-black/70 flex items-center justify-center p-4 overflow-y-auto",children:l.jsxs("div",{className:"w-full max-w-4xl bg-white border-4 border-stone-900 shadow-2xl my-8",children:[l.jsxs("div",{className:"bg-stone-900 text-white p-6 flex justify-between items-center sticky top-0",children:[l.jsx("h2",{className:"text-3xl font-serif font-bold",children:"Trminos de Uso"}),l.jsx("button",{onClick:t,className:"text-white hover:text-red-500 transition-colors","aria-label":"Cerrar",children:l.jsx(mt,{size:28})})]}),l.jsxs("div",{className:"p-8 md:p-12 font-serif text-stone-800 space-y-6 max-h-[70vh] overflow-y-auto",children:[l.jsx("div",{className:"border-l-4 border-orange-600 pl-4 mb-8",children:l.jsxs("p",{className:"text-sm text-stone-600 italic",children:["ltima actualizacin: ",new Date().toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})]})}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-stone-900",children:"1. Aceptacin de los Trminos"}),l.jsx("p",{className:"leading-relaxed",children:'Al acceder y utilizar LAB de Periodismo Crtico ("el Sitio"), usted acepta estar sujeto a estos Trminos de Uso. Si no est de acuerdo con alguna parte de estos trminos, no debe utilizar nuestro sitio web.'})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-stone-900",children:"2. Naturaleza del Contenido"}),l.jsx("p",{className:"leading-relaxed mb-3",children:"LAB de Periodismo Crtico es una plataforma de periodismo de investigacin dedicada a documentar el uso de recursos pblicos y decisiones institucionales en universidades pblicas, con enfoque inicial en la Universidad Autnoma de Ciudad Jurez (UACJ)."}),l.jsx("p",{className:"leading-relaxed",children:"Todo nuestro contenido se basa en evidencia documental fidedigna y verificable. Nos comprometemos a los ms altos estndares de exactitud periodstica y transparencia."})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-stone-900",children:"3. Uso del Contenido"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("p",{className:"leading-relaxed",children:[l.jsx("strong",{children:"3.1 Licencia de Uso:"})," El contenido publicado en LAB de Periodismo Crtico est disponible para uso personal, educativo y periodstico, siempre que se cite adecuadamente la fuente."]}),l.jsxs("p",{className:"leading-relaxed",children:[l.jsx("strong",{children:"3.2 Reproduccin:"})," Se permite la reproduccin parcial o total de nuestros artculos con fines periodsticos, acadmicos o de investigacin, siempre que:"]}),l.jsxs("ul",{className:"list-disc ml-8 space-y-2",children:[l.jsx("li",{children:"Se cite claramente a LAB de Periodismo Crtico como fuente"}),l.jsx("li",{children:"Se incluya un enlace al artculo original cuando sea publicado en formato digital"}),l.jsx("li",{children:"No se altere el contenido de manera que distorsione su significado"}),l.jsx("li",{children:"No se utilice con fines comerciales sin autorizacin previa"})]})]})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-stone-900",children:"4. Propiedad Intelectual"}),l.jsx("p",{className:"leading-relaxed mb-3",children:"Todo el contenido original publicado en LAB de Periodismo Crtico, incluyendo textos, investigaciones, anlisis y diseo del sitio, est protegido por derechos de autor."}),l.jsx("p",{className:"leading-relaxed",children:"Los documentos pblicos citados y reproducidos en nuestras investigaciones pertenecen a sus respectivos autores y estn sujetos a las leyes de transparencia y acceso a la informacin pblica."})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-stone-900",children:"5. Responsabilidad del Usuario"}),l.jsx("p",{className:"leading-relaxed mb-3",children:"Al utilizar este sitio, usted se compromete a:"}),l.jsxs("ul",{className:"list-disc ml-8 space-y-2",children:[l.jsx("li",{children:"No utilizar el contenido para difamar, acosar o violar los derechos de terceros"}),l.jsx("li",{children:"No manipular o tergiversar la informacin publicada"}),l.jsx("li",{children:"No intentar acceder a reas restringidas del sitio sin autorizacin"}),l.jsx("li",{children:"Respetar los derechos de privacidad de las personas mencionadas en nuestras investigaciones"})]})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-stone-900",children:"6. Exactitud de la Informacin"}),l.jsx("p",{className:"leading-relaxed mb-3",children:"Nos esforzamos por garantizar la exactitud y actualidad de toda la informacin publicada. Sin embargo, LAB de Periodismo Crtico no garantiza que:"}),l.jsxs("ul",{className:"list-disc ml-8 space-y-2",children:[l.jsx("li",{children:"El sitio est libre de errores o interrupciones"}),l.jsx("li",{children:"Los defectos sern corregidos inmediatamente"}),l.jsx("li",{children:"El sitio o sus servidores estn libres de virus u otros componentes dainos"})]})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-stone-900",children:"7. Correcciones y Actualizaciones"}),l.jsx("p",{className:"leading-relaxed",children:"Si identificamos un error en alguna de nuestras publicaciones, lo corregiremos de inmediato y publicaremos una nota de correccin claramente visible. Valoramos y agradecemos las correcciones de nuestros lectores."})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-stone-900",children:"8. Enlaces a Terceros"}),l.jsx("p",{className:"leading-relaxed",children:"El Sitio puede contener enlaces a sitios web de terceros. LAB de Periodismo Crtico no tiene control sobre estos sitios y no se hace responsable de su contenido, polticas de privacidad o prcticas."})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-stone-900",children:"9. Limitacin de Responsabilidad"}),l.jsx("p",{className:"leading-relaxed",children:"LAB de Periodismo Crtico no ser responsable de ningn dao directo, indirecto, incidental, especial o consecuente que resulte del uso o la imposibilidad de usar el Sitio o su contenido."})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-stone-900",children:"10. Derecho de Rplica"}),l.jsx("p",{className:"leading-relaxed",children:"Respetamos el derecho de rplica de cualquier persona o institucin mencionada en nuestras publicaciones. Las rplicas sern publicadas de manera prominente junto al artculo original, siempre que:"}),l.jsxs("ul",{className:"list-disc ml-8 space-y-2 mt-3",children:[l.jsx("li",{children:"Sean enviadas por escrito de manera oficial"}),l.jsx("li",{children:"Se refieran especficamente al contenido publicado"}),l.jsx("li",{children:"No contengan difamaciones o informacin falsa"}),l.jsx("li",{children:"Sean enviadas dentro de un plazo razonable"})]})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-stone-900",children:"11. Modificaciones a los Trminos"}),l.jsx("p",{className:"leading-relaxed",children:"LAB de Periodismo Crtico se reserva el derecho de modificar estos Trminos de Uso en cualquier momento. Las modificaciones entrarn en vigor inmediatamente despus de su publicacin en el Sitio. El uso continuado del Sitio despus de tales modificaciones constituye su aceptacin de los nuevos trminos."})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-stone-900",children:"12. Ley Aplicable"}),l.jsx("p",{className:"leading-relaxed",children:"Estos Trminos de Uso se rigen por las leyes de los Estados Unidos Mexicanos. Cualquier disputa relacionada con estos trminos estar sujeta a la jurisdiccin exclusiva de los tribunales competentes en Ciudad Jurez, Chihuahua, Mxico."})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-stone-900",children:"13. Contacto"}),l.jsx("p",{className:"leading-relaxed",children:"Para cualquier pregunta sobre estos Trminos de Uso, puede contactarnos a travs de los canales oficiales publicados en el sitio web."})]}),l.jsxs("div",{className:"mt-12 p-6 bg-orange-50 border-l-4 border-orange-600",children:[l.jsx("p",{className:"font-bold text-lg mb-2",children:"Compromiso con el Periodismo de Calidad"}),l.jsx("p",{className:"leading-relaxed",children:"LAB de Periodismo Crtico se compromete a mantener los ms altos estndares de tica periodstica, transparencia y rigor en la investigacin. Creemos en el derecho ciudadano a la informacin y en la importancia de la rendicin de cuentas en las instituciones pblicas."})]})]}),l.jsx("div",{className:"bg-stone-100 p-6 border-t-2 border-stone-300 flex justify-end",children:l.jsx("button",{onClick:t,className:"px-8 py-3 bg-stone-900 text-white hover:bg-orange-600 font-bold uppercase tracking-wider transition-colors",children:"Cerrar"})})]})}):null,Qw=({isOpen:e,onClose:t})=>e?l.jsx("div",{className:"fixed inset-0 z-50 bg-black/70 flex items-center justify-center p-4 overflow-y-auto",children:l.jsxs("div",{className:"w-full max-w-4xl bg-white border-4 border-stone-900 shadow-2xl my-8",children:[l.jsxs("div",{className:"bg-stone-900 text-white p-6 flex justify-between items-center sticky top-0",children:[l.jsx("h2",{className:"text-3xl font-serif font-bold",children:"Poltica de Privacidad"}),l.jsx("button",{onClick:t,className:"text-white hover:text-red-500 transition-colors","aria-label":"Cerrar",children:l.jsx(mt,{size:28})})]}),l.jsxs("div",{className:"p-8 md:p-12 font-serif text-stone-800 space-y-6 max-h-[70vh] overflow-y-auto",children:[l.jsx("div",{className:"border-l-4 border-orange-600 pl-4 mb-8",children:l.jsxs("p",{className:"text-sm text-stone-600 italic",children:["ltima actualizacin: ",new Date().toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})]})}),l.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-600 p-6 mb-8",children:[l.jsx("p",{className:"font-bold text-lg mb-2",children:"Compromiso con tu Privacidad"}),l.jsx("p",{className:"leading-relaxed",children:"En LAB de Periodismo Crtico nos tomamos muy en serio la privacidad de nuestros lectores y usuarios. Esta poltica explica qu informacin recopilamos, cmo la usamos y cules son tus derechos."})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-stone-900",children:"1. Informacin que Recopilamos"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-xl font-bold mb-2 text-stone-800",children:"1.1 Informacin que Proporcionas Voluntariamente"}),l.jsx("p",{className:"leading-relaxed mb-3",children:"Recopilamos informacin que nos proporcionas directamente cuando:"}),l.jsxs("ul",{className:"list-disc ml-8 space-y-2",children:[l.jsx("li",{children:"Creas una cuenta de usuario (email y contrasea)"}),l.jsx("li",{children:"Te suscribes a nuestro newsletter"}),l.jsx("li",{children:"Envas comentarios o feedback"}),l.jsx("li",{children:"Participas en encuestas o cuestionarios"}),l.jsx("li",{children:"Nos contactas a travs de formularios o email"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xl font-bold mb-2 text-stone-800",children:"1.2 Informacin Recopilada Automticamente"}),l.jsx("p",{className:"leading-relaxed mb-3",children:"Cuando visitas nuestro sitio, recopilamos automticamente:"}),l.jsxs("ul",{className:"list-disc ml-8 space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Datos de navegacin:"})," Pginas visitadas, tiempo de permanencia, enlaces clicados"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Informacin tcnica:"})," Tipo de navegador, sistema operativo, direccin IP"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Dispositivo:"})," Tipo de dispositivo, resolucin de pantalla"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Cookies:"})," Identificadores nicos para mejorar tu experiencia"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Estadsticas de visitas:"})," Contador de visitas general (no identifica usuarios individuales)"]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xl font-bold mb-2 text-stone-800",children:"1.3 Informacin que NO Recopilamos"}),l.jsxs("p",{className:"leading-relaxed",children:[l.jsx("strong",{children:"Importante:"})," NO recopilamos datos sensibles como informacin financiera, datos de salud, orientacin poltica o religiosa, a menos que t decidas compartirlos voluntariamente en comunicaciones con nosotros."]})]})]})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-stone-900",children:"2. Cmo Usamos tu Informacin"}),l.jsx("p",{className:"leading-relaxed mb-3",children:"Utilizamos la informacin recopilada para:"}),l.jsxs("ul",{className:"list-disc ml-8 space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Proveer y mejorar nuestros servicios:"})," Personalizar tu experiencia de lectura"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Comunicacin:"})," Enviarte actualizaciones, newsletter y contenido relevante (solo si te suscribes)"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Anlisis:"})," Entender cmo los usuarios interactan con nuestro contenido"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Seguridad:"})," Proteger contra fraude, abuso y actividades ilegales"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Cumplimiento legal:"})," Responder a solicitudes legales cuando sea requerido"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Investigacin periodstica:"})," Mejorar la calidad y relevancia de nuestras publicaciones"]})]})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-stone-900",children:"3. Base Legal para el Procesamiento de Datos"}),l.jsx("p",{className:"leading-relaxed mb-3",children:"Procesamos tus datos personales bajo las siguientes bases legales:"}),l.jsxs("ul",{className:"list-disc ml-8 space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Consentimiento:"})," Cuando te suscribes o creas una cuenta"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Inters legtimo:"})," Para anlisis estadsticos y mejora del servicio"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Cumplimiento legal:"})," Cuando la ley lo requiere"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Ejecucin de contrato:"})," Para proveer los servicios solicitados"]})]})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-stone-900",children:"4. Compartir Informacin con Terceros"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-600 p-4",children:[l.jsx("p",{className:"font-bold mb-2",children:" Principio fundamental:"}),l.jsx("p",{className:"leading-relaxed",children:l.jsx("strong",{children:"NO vendemos, alquilamos ni compartimos tu informacin personal con terceros con fines comerciales o de marketing."})})]}),l.jsx("p",{className:"leading-relaxed mb-3",children:"Podemos compartir informacin en estos casos limitados:"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-bold mb-2 text-stone-800",children:"4.1 Proveedores de Servicios"}),l.jsx("p",{className:"leading-relaxed mb-2",children:"Trabajamos con proveedores de servicios confiables que nos ayudan a operar el sitio:"}),l.jsxs("ul",{className:"list-disc ml-8 space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Supabase:"})," Hosting de base de datos y autenticacin"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Firebase/Hosting:"})," Alojamiento del sitio web"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Ivoox:"})," Servicio de podcast (datos de reproduccin)"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Google Analytics:"})," Anlisis de trfico web (si aplica)"]})]}),l.jsx("p",{className:"leading-relaxed mt-2 text-sm text-stone-600",children:"Estos proveedores estn obligados contractualmente a proteger tu informacin y solo pueden usarla para los servicios que nos proveen."})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-bold mb-2 text-stone-800",children:"4.2 Requerimientos Legales"}),l.jsx("p",{className:"leading-relaxed",children:"Podemos divulgar informacin si estamos legalmente obligados a hacerlo por orden judicial, citacin o proceso legal similar, o si creemos de buena fe que la divulgacin es necesaria para proteger nuestros derechos, tu seguridad o la de otros."})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-bold mb-2 text-stone-800",children:"4.3 Transferencia de Negocio"}),l.jsx("p",{className:"leading-relaxed",children:"En caso de fusin, adquisicin o venta de activos, tu informacin podra ser transferida. Te notificaremos antes de que tu informacin personal sea transferida y quede sujeta a una poltica de privacidad diferente."})]})]})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-stone-900",children:"5. Cookies y Tecnologas Similares"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"leading-relaxed",children:"Utilizamos cookies y tecnologas similares para mejorar tu experiencia en nuestro sitio."}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-bold mb-2 text-stone-800",children:"5.1 Tipos de Cookies que Usamos"}),l.jsxs("ul",{className:"list-disc ml-8 space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Cookies esenciales:"})," Necesarias para el funcionamiento bsico del sitio (autenticacin, preferencias)"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Cookies de anlisis:"})," Nos ayudan a entender cmo los usuarios usan el sitio"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Cookies funcionales:"})," Recuerdan tus preferencias y configuraciones"]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-bold mb-2 text-stone-800",children:"5.2 Gestionar Cookies"}),l.jsx("p",{className:"leading-relaxed",children:"Puedes configurar tu navegador para rechazar cookies, pero esto puede afectar la funcionalidad del sitio. La mayora de los navegadores permiten gestionar las preferencias de cookies en sus configuraciones."})]})]})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-stone-900",children:"6. Seguridad de tu Informacin"}),l.jsx("p",{className:"leading-relaxed mb-3",children:"Implementamos medidas de seguridad tcnicas y organizativas para proteger tu informacin:"}),l.jsxs("ul",{className:"list-disc ml-8 space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Cifrado:"})," Usamos HTTPS/SSL para todas las comunicaciones"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Autenticacin segura:"})," Contraseas hasheadas y tokens seguros"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Control de acceso:"})," Solo personal autorizado puede acceder a datos sensibles"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Respaldos regulares:"})," Copias de seguridad para prevenir prdida de datos"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Monitoreo:"})," Deteccin de accesos no autorizados y actividades sospechosas"]})]}),l.jsxs("p",{className:"leading-relaxed mt-4 text-sm text-stone-600",children:[l.jsx("strong",{children:"Nota:"})," Ningn sistema es 100% seguro. Aunque hacemos nuestro mejor esfuerzo, no podemos garantizar la seguridad absoluta de tu informacin."]})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-stone-900",children:"7. Retencin de Datos"}),l.jsx("p",{className:"leading-relaxed mb-3",children:"Conservamos tu informacin personal solo durante el tiempo necesario para cumplir con los propsitos descritos en esta poltica:"}),l.jsxs("ul",{className:"list-disc ml-8 space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Cuentas activas:"})," Mientras mantengas tu cuenta activa"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Datos de anlisis:"})," Generalmente 26 meses"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Obligaciones legales:"})," El tiempo que requiera la ley"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Cuentas inactivas:"})," Podemos eliminar cuentas sin actividad despus de 2 aos"]})]}),l.jsx("p",{className:"leading-relaxed mt-3",children:"Puedes solicitar la eliminacin de tu cuenta y datos en cualquier momento."})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-stone-900",children:"8. Tus Derechos"}),l.jsx("p",{className:"leading-relaxed mb-4",children:"De acuerdo con las leyes de proteccin de datos aplicables, tienes los siguientes derechos:"}),l.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-6 space-y-3",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-stone-900",children:" Derecho de Acceso"}),l.jsx("p",{className:"text-sm",children:"Solicitar una copia de tu informacin personal"})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-stone-900",children:" Derecho de Rectificacin"}),l.jsx("p",{className:"text-sm",children:"Corregir informacin inexacta o incompleta"})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-stone-900",children:" Derecho de Supresin"}),l.jsx("p",{className:"text-sm",children:'Solicitar la eliminacin de tus datos ("derecho al olvido")'})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-stone-900",children:" Derecho de Oposicin"}),l.jsx("p",{className:"text-sm",children:"Oponerte al procesamiento de tus datos"})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-stone-900",children:" Derecho de Portabilidad"}),l.jsx("p",{className:"text-sm",children:"Recibir tus datos en formato estructurado y transferirlos"})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-stone-900",children:" Derecho de Limitacin"}),l.jsx("p",{className:"text-sm",children:"Restringir el procesamiento de tus datos"})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-stone-900",children:" Derecho a Retirar Consentimiento"}),l.jsx("p",{className:"text-sm",children:"Retirar tu consentimiento en cualquier momento"})]})]}),l.jsx("p",{className:"leading-relaxed mt-4",children:"Para ejercer cualquiera de estos derechos, contctanos a travs de los canales oficiales publicados en el sitio. Responderemos a tu solicitud dentro de 30 das."})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-stone-900",children:"9. Privacidad de Menores"}),l.jsx("p",{className:"leading-relaxed mb-3",children:"Nuestro sitio no est dirigido a menores de 13 aos. No recopilamos intencionalmente informacin personal de nios menores de 13 aos."}),l.jsx("p",{className:"leading-relaxed",children:"Si descubrimos que hemos recopilado informacin de un menor de 13 aos sin el consentimiento parental verificable, tomaremos medidas para eliminar esa informacin de nuestros servidores."})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-stone-900",children:"10. Enlaces a Sitios de Terceros"}),l.jsx("p",{className:"leading-relaxed mb-3",children:"Nuestro sitio puede contener enlaces a sitios web de terceros. Esta Poltica de Privacidad no se aplica a esos sitios."}),l.jsx("p",{className:"leading-relaxed",children:"No somos responsables de las prcticas de privacidad de otros sitios. Te recomendamos leer las polticas de privacidad de cada sitio que visites."})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-stone-900",children:"11. Transferencias Internacionales"}),l.jsx("p",{className:"leading-relaxed mb-3",children:"Tu informacin puede ser transferida y procesada en servidores ubicados fuera de Mxico, incluyendo Estados Unidos y otros pases."}),l.jsx("p",{className:"leading-relaxed",children:"Cuando transferimos informacin fuera de Mxico, nos aseguramos de que existan las salvaguardas adecuadas para proteger tu informacin de acuerdo con esta poltica y las leyes aplicables."})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-stone-900",children:"12. Cambios a esta Poltica"}),l.jsx("p",{className:"leading-relaxed mb-3",children:"Podemos actualizar esta Poltica de Privacidad ocasionalmente para reflejar cambios en nuestras prcticas o por razones legales u operativas."}),l.jsx("p",{className:"leading-relaxed",children:'Te notificaremos sobre cambios significativos publicando la nueva poltica en esta pgina y actualizando la fecha de "ltima actualizacin" en la parte superior. Te recomendamos revisar esta poltica peridicamente.'})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-stone-900",children:"13. Contacto"}),l.jsx("p",{className:"leading-relaxed mb-3",children:"Si tienes preguntas, comentarios o preocupaciones sobre esta Poltica de Privacidad o nuestras prcticas de datos, contctanos a travs de:"}),l.jsxs("div",{className:"bg-stone-100 p-4 rounded border border-stone-300",children:[l.jsx("p",{className:"mb-2",children:l.jsx("strong",{children:"LAB de Periodismo Crtico"})}),l.jsx("p",{className:"mb-2",children:"Email: privacidad@labperiodismocritico.com"}),l.jsx("p",{className:"mb-2",children:"Ubicacin: Ciudad Jurez, Chihuahua, Mxico"}),l.jsx("p",{children:"Responderemos a tu consulta dentro de 30 das."})]})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4 text-stone-900",children:"14. Autoridad de Control"}),l.jsx("p",{className:"leading-relaxed",children:"Si consideras que hemos violado tus derechos de privacidad, tienes derecho a presentar una queja ante el Instituto Nacional de Transparencia, Acceso a la Informacin y Proteccin de Datos Personales (INAI) en Mxico."})]}),l.jsxs("div",{className:"mt-12 p-6 bg-orange-50 border-l-4 border-orange-600",children:[l.jsx("p",{className:"font-bold text-lg mb-2",children:"Nuestro Compromiso Continuo"}),l.jsx("p",{className:"leading-relaxed",children:"En LAB de Periodismo Crtico, la privacidad y la proteccin de datos son fundamentales para nuestra misin periodstica. Nos comprometemos a ser transparentes sobre nuestras prcticas y a respetar tus derechos en todo momento. Tu confianza es esencial para nuestro trabajo de periodismo de investigacin."})]}),l.jsxs("div",{className:"mt-8 text-center text-sm text-stone-600",children:[l.jsx("p",{children:"Esta poltica cumple con:"}),l.jsx("p",{className:"font-bold mt-2",children:"Ley Federal de Proteccin de Datos Personales en Posesin de los Particulares (Mxico)  GDPR (UE)  CCPA (California)"})]})]}),l.jsx("div",{className:"bg-stone-100 p-6 border-t-2 border-stone-300 flex justify-end",children:l.jsx("button",{onClick:t,className:"px-8 py-3 bg-stone-900 text-white hover:bg-orange-600 font-bold uppercase tracking-wider transition-colors",children:"Cerrar"})})]})}):null,Yw=({isOpen:e,onClose:t})=>{const[n,r]=x.useState(""),[s,i]=x.useState(""),[o,a]=x.useState("weekly"),[u,c]=x.useState([]),[d,h]=x.useState(!1),[f,v]=x.useState(!1),y=m=>{c(p=>p.includes(m)?p.filter(g=>g!==m):[...p,m])},w=async m=>{if(m.preventDefault(),h(!0),!Q){const p=JSON.parse(localStorage.getItem("subscribers")||"[]"),g={email:n,name:s,frequency:o,interests:u,subscribedAt:new Date().toISOString()};p.push(g),localStorage.setItem("subscribers",JSON.stringify(p)),setTimeout(()=>{h(!1),v(!0)},1500);return}try{const{error:p}=await Q.from("subscribers").insert({email:n,name:s||null,frequency:o,interests:u.length>0?u:null,subscribed_at:new Date().toISOString(),is_active:!0});if(p)throw p;h(!1),v(!0)}catch(p){console.error("Error al suscribir:",p),alert("Hubo un error al procesar tu suscripcin. Por favor intenta nuevamente."),h(!1)}},b=()=>{r(""),i(""),a("weekly"),c([]),v(!1),t()};return e?l.jsx("div",{className:"fixed inset-0 z-50 bg-black/70 flex items-center justify-center p-4 overflow-y-auto",children:l.jsxs("div",{className:"w-full max-w-2xl bg-white border-4 border-stone-900 shadow-2xl my-8",children:[l.jsxs("div",{className:"bg-gradient-to-r from-orange-600 to-red-600 text-white p-6 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-serif font-bold mb-1",children:"Suscrbete al Newsletter"}),l.jsx("p",{className:"text-orange-100 text-sm",children:"Recibe periodismo de investigacin directo en tu inbox"})]}),l.jsx("button",{onClick:b,className:"text-white hover:text-orange-200 transition-colors flex-shrink-0 ml-4","aria-label":"Cerrar",children:l.jsx(mt,{size:28})})]}),l.jsx("div",{className:"p-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:f?l.jsxs("div",{className:"text-center py-8",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h3",{className:"text-3xl font-serif font-bold text-stone-900 mb-2",children:"Suscripcin Exitosa!"}),l.jsx("p",{className:"text-lg text-stone-600",children:"Te has suscrito correctamente al newsletter"})]}),l.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-600 p-6 text-left mb-6",children:[l.jsx("p",{className:"font-bold mb-2",children:" Revisa tu bandeja de entrada"}),l.jsxs("p",{className:"text-sm text-stone-700 leading-relaxed",children:["Hemos enviado un email de confirmacin a ",l.jsx("strong",{children:n}),". Si no lo ves en unos minutos, revisa tu carpeta de spam."]})]}),l.jsxs("div",{className:"space-y-3 text-sm text-stone-600 mb-6",children:[l.jsxs("p",{children:[" Frecuencia: ",l.jsx("strong",{className:"text-stone-900",children:o==="daily"?"Diario":o==="weekly"?"Semanal":"Mensual"})]}),u.length>0&&l.jsxs("p",{children:[" Intereses: ",l.jsx("strong",{className:"text-stone-900",children:u.join(", ")})]})]}),l.jsx("button",{onClick:b,className:"px-8 py-3 bg-stone-900 text-white hover:bg-orange-600 font-bold uppercase tracking-wider transition-colors",children:"Cerrar"}),l.jsx("p",{className:"mt-6 text-xs text-stone-500",children:"Quieres cambiar tus preferencias? Usa el enlace en cualquier email que recibas."})]}):l.jsxs("form",{onSubmit:w,className:"space-y-6",children:[l.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-600 p-4 mb-6",children:l.jsxs("p",{className:"text-sm leading-relaxed",children:[l.jsx("strong",{children:"Por qu suscribirte?"})," Recibe investigaciones exclusivas, anlisis profundos y reportajes sobre el uso de recursos pblicos en universidades. Sin spam, sin publicidad, solo periodismo de calidad."]})}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-bold text-stone-700 mb-2 uppercase tracking-wide",children:["Email ",l.jsx("span",{className:"text-red-600",children:"*"})]}),l.jsx("input",{type:"email",required:!0,value:n,onChange:m=>r(m.target.value),placeholder:"tu@email.com",className:"w-full p-3 border-2 border-stone-300 focus:border-orange-600 outline-none transition-colors"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-bold text-stone-700 mb-2 uppercase tracking-wide",children:["Nombre ",l.jsx("span",{className:"text-stone-400 text-xs",children:"(opcional)"})]}),l.jsx("input",{type:"text",value:s,onChange:m=>i(m.target.value),placeholder:"Tu nombre",className:"w-full p-3 border-2 border-stone-300 focus:border-orange-600 outline-none transition-colors"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-3 uppercase tracking-wide",children:"Frecuencia de emails"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center gap-3 p-3 border-2 border-stone-300 hover:border-orange-600 cursor-pointer transition-colors",children:[l.jsx("input",{type:"radio",name:"frequency",value:"daily",checked:o==="daily",onChange:m=>a(m.target.value),className:"w-4 h-4 text-orange-600"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-stone-900",children:"Diario"}),l.jsx("div",{className:"text-xs text-stone-600",children:"Recibe las ltimas publicaciones cada da"})]})]}),l.jsxs("label",{className:"flex items-center gap-3 p-3 border-2 border-stone-300 hover:border-orange-600 cursor-pointer transition-colors",children:[l.jsx("input",{type:"radio",name:"frequency",value:"weekly",checked:o==="weekly",onChange:m=>a(m.target.value),className:"w-4 h-4 text-orange-600"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-stone-900",children:"Semanal (Recomendado)"}),l.jsx("div",{className:"text-xs text-stone-600",children:"Un resumen cada semana con lo ms destacado"})]})]}),l.jsxs("label",{className:"flex items-center gap-3 p-3 border-2 border-stone-300 hover:border-orange-600 cursor-pointer transition-colors",children:[l.jsx("input",{type:"radio",name:"frequency",value:"monthly",checked:o==="monthly",onChange:m=>a(m.target.value),className:"w-4 h-4 text-orange-600"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-stone-900",children:"Mensual"}),l.jsx("div",{className:"text-xs text-stone-600",children:"Solo las investigaciones ms importantes"})]})]})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-bold text-stone-700 mb-3 uppercase tracking-wide",children:["Temas de inters ",l.jsx("span",{className:"text-stone-400 text-xs",children:"(selecciona uno o ms)"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Blog","Dossier","Editorial","Gobierno Universitario","Minuto LAB"].map(m=>l.jsxs("label",{className:`flex items-center gap-2 p-3 border-2 cursor-pointer transition-all ${u.includes(m)?"border-orange-600 bg-orange-50":"border-stone-300 hover:border-orange-400"}`,children:[l.jsx("input",{type:"checkbox",checked:u.includes(m),onChange:()=>y(m),className:"w-4 h-4 text-orange-600"}),l.jsx("span",{className:"text-sm font-semibold",children:m})]},m))})]}),l.jsxs("div",{className:"bg-stone-50 p-4 border border-stone-300 text-xs text-stone-600 leading-relaxed",children:["Al suscribirte, aceptas recibir correos electrnicos de LAB de Periodismo Crtico. Puedes cancelar tu suscripcin en cualquier momento. Consult nuestra"," ",l.jsx("button",{type:"button",onClick:()=>{b(),setTimeout(()=>{const m=document.querySelector("[data-privacy-trigger]");m&&m.click()},100)},className:"text-orange-600 underline hover:text-orange-800",children:"Poltica de Privacidad"}),"."]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:b,className:"flex-1 px-6 py-3 text-stone-600 hover:bg-stone-100 font-bold uppercase tracking-wider text-sm border-2 border-stone-300 transition-colors",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:d,className:"flex-1 px-6 py-3 bg-gradient-to-r from-orange-600 to-red-600 text-white hover:from-orange-700 hover:to-red-700 font-bold uppercase tracking-wider text-sm shadow-lg disabled:opacity-60 transition-all",children:d?l.jsxs("span",{className:"flex items-center justify-center gap-2",children:[l.jsx(Lf,{className:"animate-spin",size:16}),"Suscribiendo..."]}):"Suscribirme"})]})]})})]})}):null};function Xw(){const e=Ml(),t=en(),[n,r]=x.useState([]),[s,i]=x.useState(!0),[o,a]=x.useState(null),[u,c]=x.useState(!1),[d,h]=x.useState({email:"",password:""}),[f,v]=x.useState(!1),[y,w]=x.useState({id:null,title:"",subtitle:"",category:"Blog",author:"",content:""}),[b,m]=x.useState(!1),[p,g]=x.useState(!1),[_,k]=x.useState(!1),[S,E]=x.useState(!1),C=t.pathname.split("/"),U=C[1]==="categoria"?decodeURIComponent(C[2]):null,A=!!o;x.useEffect(()=>{if(Q){Q.auth.getSession().then(({data:{session:R}})=>a(R));const{data:T}=Q.auth.onAuthStateChange((R,I)=>a(I));return()=>{var R;return(R=T==null?void 0:T.subscription)==null?void 0:R.unsubscribe()}}},[]),x.useEffect(()=>{fe()},[]);const fe=async()=>{if(!Q){r($c),i(!1);return}i(!0);const{data:T,error:R}=await Q.from("articles").select("*").order("date",{ascending:!1}).order("created_at",{ascending:!1});R?(console.error(R),r($c)):r(T||[]),i(!1)},Je=()=>{w({id:null,title:"",subtitle:"",category:"Dossier",author:"",content:""}),m(!1),e("/editar")},Qe=T=>{w({...T}),m(!0),e(`/editar/${T.id}`)},F=async T=>{if(!o){c(!0);return}if(!window.confirm("Borrar esta nota?"))return;if(String(T).startsWith("demo-")||!Q){r(M=>M.filter(Ne=>Ne.id!==T)),t.pathname===`/articulo/${T}`&&e("/");return}const{error:I}=await Q.from("articles").delete().eq("id",T);if(I){console.error(I),alert("No se pudo borrar; revisa RLS/policies.");return}t.pathname===`/articulo/${T}`&&e("/"),await fe()},V=async T=>{if(T.preventDefault(),!Q){const I=new Date().toISOString().split("T")[0];if(b)r(M=>M.map(Ne=>Ne.id===y.id?{...y,date:I}:Ne));else{const M={...y,id:Date.now(),date:I,highlight:!1};r(Ne=>[M,...Ne])}e("/");return}if(!o){c(!0);return}const R={title:y.title,subtitle:y.subtitle||null,category:y.category||"Dossier",author:y.author,content:y.content,date:new Date().toISOString().slice(0,10)};try{if(i(!0),b&&y.id!==null){const{error:I}=await Q.from("articles").update(R).eq("id",y.id);if(I)throw I}else{const{error:I}=await Q.from("articles").insert(R);if(I)throw I;const{data:M}=await Q.from("site_stats").select("edition_number").eq("id",1).single();M&&await Q.from("site_stats").update({edition_number:(M.edition_number||1)+1}).eq("id",1)}await fe(),e("/")}catch(I){console.error(I),alert("Error al guardar; revisa RLS/policies.")}finally{i(!1)}},B=async T=>{if(T.preventDefault(),!Q)return;v(!0);const{error:R}=await Q.auth.signInWithPassword({email:d.email,password:d.password});if(v(!1),R){console.error(R),alert("No se pudo iniciar sesin. Revisa email/password.");return}c(!1),h({email:"",password:""})},J=async()=>{Q&&await Q.auth.signOut()},N=(T,R)=>{const I=document.getElementById("content-editor");if(!I)return;const M=I.selectionStart,Ne=I.selectionEnd,Ye=y.content,_n=Ye.substring(M,Ne),gt=Ye.substring(0,M)+T+_n+R+Ye.substring(Ne);w({...y,content:gt}),setTimeout(()=>{I.focus(),I.selectionStart=M+T.length,I.selectionEnd=M+T.length+_n.length},0)};return l.jsxs("div",{className:"min-h-screen bg-[#f7f5f0] text-stone-900 font-mono selection:bg-red-200 selection:text-red-900",children:[l.jsx(Ww,{session:o,setAuthOpen:c,handleSignOut:J,canEdit:A,handleCreateNew:Je,selectedCategory:U,setShowSubscribe:E}),l.jsxs(lc,{children:[l.jsx(vt,{path:"/",element:l.jsx(Uc,{})}),l.jsx(vt,{path:"/categoria/:category",element:l.jsx(Uc,{})}),l.jsx(vt,{path:"*",element:null})]}),l.jsx(Hw,{authOpen:u,setAuthOpen:c,authForm:d,setAuthForm:h,handleSignIn:B,authBusy:f}),l.jsx(Jw,{isOpen:p,onClose:()=>g(!1)}),l.jsx(Qw,{isOpen:_,onClose:()=>k(!1)}),l.jsx(Yw,{isOpen:S,onClose:()=>E(!1)}),l.jsx("main",{className:"min-h-[60vh]",children:l.jsxs(lc,{children:[l.jsx(vt,{path:"/",element:l.jsx(zc,{loading:s,articles:n,session:o,setAuthOpen:c,canEdit:A,handleCreateNew:Je,handleEditArticle:Qe,handleDeleteArticle:F})}),l.jsx(vt,{path:"/categoria/:category",element:l.jsx(zc,{loading:s,articles:n,session:o,setAuthOpen:c,canEdit:A,handleCreateNew:Je,handleEditArticle:Qe,handleDeleteArticle:F})}),l.jsx(vt,{path:"/articulo/:id",element:l.jsx(Kw,{articles:n,canEdit:A,handleEditArticle:Qe,handleDeleteArticle:F})}),l.jsx(vt,{path:"/editar",element:A?l.jsx(Dc,{formData:y,setFormData:w,isEditing:b,loading:s,handleSave:V,insertAtCursor:N,setView:()=>e("/")}):l.jsx("div",{className:"text-center py-20 font-serif italic text-stone-500",children:"Debes iniciar sesin para editar."})}),l.jsx(vt,{path:"/editar/:id",element:A?l.jsx(Dc,{formData:y,setFormData:w,isEditing:b,loading:s,handleSave:V,insertAtCursor:N,setView:()=>e("/")}):l.jsx("div",{className:"text-center py-20 font-serif italic text-stone-500",children:"Debes iniciar sesin para editar."})})]})}),l.jsx("footer",{className:"bg-stone-900 text-stone-400 py-12 mt-12 border-t-8 border-orange-600",children:l.jsxs("div",{className:"container mx-auto px-4 grid grid-cols-1 md:grid-cols-4 gap-8 text-sm",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("h2",{className:"text-white text-2xl font-serif font-bold mb-4",children:"LAB de Periodismo Crtico"}),l.jsx("p",{className:"mb-4 max-w-md",children:"LAB de Periodismo Crtico Universitario documenta el uso de recursos pblicos y decisiones institucionales en universidades pblicas, con foco inicial en la UACJ y Ciudad Jurez, a partir de evidencia documental fidedigna y verificable."}),l.jsxs("p",{children:[" ",new Date().getFullYear()," LAB de Periodismo Crtico. Todos los derechos reservados."]}),l.jsx("div",{className:"mt-4 pt-4 border-t border-stone-700",children:l.jsx(Gw,{})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold uppercase tracking-widest mb-4",children:"Secciones"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx(Te,{to:"/categoria/Blog",className:"hover:text-white font-bold text-orange-500",children:"Blog"})}),l.jsx("li",{children:l.jsx(Te,{to:"/categoria/Dossier",className:"hover:text-white",children:"Dossier"})}),l.jsx("li",{children:l.jsx(Te,{to:"/categoria/Editorial",className:"hover:text-white",children:"Editorial"})}),l.jsx("li",{children:l.jsx(Te,{to:"/categoria/Gobierno Universitario",className:"hover:text-white",children:"Gobierno Universitario"})}),l.jsx("li",{children:l.jsx(Te,{to:"/categoria/Minuto LAB",className:"hover:text-white",children:"Minuto LAB"})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold uppercase tracking-widest mb-4",children:"Legal"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx("button",{onClick:()=>g(!0),className:"hover:text-white transition-colors",children:"Trminos de Uso"})}),l.jsx("li",{children:l.jsx("button",{onClick:()=>k(!0),"data-privacy-trigger":!0,className:"hover:text-white transition-colors",children:"Poltica de Privacidad"})})]}),l.jsx("div",{className:"mt-6 pt-4 border-t border-stone-700",children:l.jsxs("a",{href:"https://www.facebook.com/profile.php?id=61587394063219",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-stone-400 hover:text-blue-500 transition-colors",title:"Sguenos en Facebook",children:[l.jsx(jw,{size:24}),l.jsx("span",{className:"font-bold uppercase tracking-widest text-xs",children:"Facebook"})]})})]})]})})]})}zo.createRoot(document.getElementById("root")).render(l.jsx(Xf.StrictMode,{children:l.jsx(Av,{basename:"/LAB/",children:l.jsx(Xw,{})})}));
